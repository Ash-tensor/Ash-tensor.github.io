<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    [WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1 - Tensor Studio
    
  </title>

  <meta name="description" content="[WEB][Spring] 스프링으로 간단한 Chat-GPT 페이지 구현하기 - 1">
  <meta property="og:description" content="[WEB][Spring] 스프링으로 간단한 Chat-GPT 페이지 구현하기 - 1">
  <meta property="og:type" content="website">
  <meta property="og:title" content="[WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1">
  <meta property="og:url" content="https://ash-tensor.github.io/web/java/2024/09/30/spring-gpt-backend.html">

  
    <meta property="og:image" content="https://ash-tensor.github.io/img/port.jpg"/>
  

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6058208689389341"
          crossorigin="anonymous"></script>

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/>

<!--  goun doun font // font-family: 'Noto Serif KR', serif;-->
<!--  <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR&display=swap" rel="stylesheet">-->


  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/web/java/2024/09/30/spring-gpt-backend.html">
  <link rel="alternate" type="application/rss+xml" title="Tensor Studio" href="/feed.xml">

<!--  favicon-->
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <style>
    #sidebar {
      display: none;
    }
    @media (min-width: 1000px) {
      #sidebar {
        display: block;
      }
      
    }
  </style>
  
</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">Tensor Studio</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/categol">Categories</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->


<header class="masthead" style="background-image: url('/img/port.jpg')">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>[WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1</h1>
          
          <h2 class="subheading">Open-AI Chat-GPT completion api를 이용한 간단한 챗봇 페이지 백엔드 구현</h2>
          
          <span class="meta">Posted by
            <a href="#">ash tensor</a>
            on September 30, 2024 &middot; <span class="reading-time" title="Estimated read time">
  
   19 mins  read </span>

          </span>
<!-- 카테고리를 추가하는 코드 -->
            <a>
              카테고리
            <a>
          <div style="font-family: 'Noto Sans KR', sans-serif;">
            
              <a href="http://localhost:4000/category/WEB.html" style="color: white;">📁WEB</a>
            
              <a href="http://localhost:4000/category/JAVA.html" style="color: white;">📁JAVA</a>
            
          </div>
<!-- 카테고리를 추가하는 코드 -->
        </div>
      </div>
    </div>
  </div>
</header>
<div class="container" style="display: flex">
  <div class="row">
<!-- sidebar를 추가하는 코드 -->
    <sidebar id="sidebar" 
            style="width: 260px; 
            border-right: gray 1px solid; 
            padding-left: 0; 
            padding-right: 20px;"
            >
    <ul>
        <p style="font-weight: bold; border-top: black 1px solid; border-bottom: black 1px solid; text-align: center; margin-top: 2px; padding: 2px; padding-top: 4px">
TENSOR STUDIO
        </p>
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/자격증.html">
                    자격증
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/08/20/bigdata-processing-engineer.html" style= "color: black; font-size: 12px;">
                            [자격증][실기] 빅데이터 분석기사 2024년 1회(8회)실기 합격 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">20 Aug 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/08/06/engineer-information-processor.html" style= "color: black; font-size: 12px;">
                            [자격증][실기] 정보처리기사 2024년 1회 실기 합격 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">06 Aug 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/05/03/bigdata-processor-engineer.html" style= "color: black; font-size: 12px;">
                            [자격증][필기] 빅데이터 분석기사 8회 필기 분석 및 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">03 May 2024</small>
                    </li>
                    
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/깃허브.html">
                    깃허브
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2024/02/08/jekyll-blog-theme-5-sidebar.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그]지킬 블로그 카테고리 / SIDEBAR 기능 추가(clean blog theme)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">08 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2024/01/17/bottom-category-build.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그] 동일 카테고리의 최근 글 기능 개발(clean blog theme)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">17 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2023/12/15/jekyll-blog-theme-4.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그]지킬 블로그 카테고리 / NAVBAR 기능 추가(clean blog theme) - 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Dec 2023</small>
                    </li>
                    
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/ML.html">
                    ML
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ml/2024/03/19/personal-information.html" style= "color: black; font-size: 12px;">
                            [데이터]개인정보 처리 위탁과 제 3자 제공의 차이
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">19 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ml/ai%EA%B7%B8%EB%A6%BC/2023/12/28/stable-diffusion.html" style= "color: black; font-size: 12px;">
                            [AI 그림]프롬프트의 한계점 - 올바른 프롬프트 작성하기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2023</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ml/2023/12/19/esports-ml-1.html" style= "color: black; font-size: 12px;">
                            [데이터 분석]조합에 따른 승률은 얼마나 차이가 날까?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">19 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/AI그림.html">
                    AI그림
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ml/ai%EA%B7%B8%EB%A6%BC/2023/12/28/stable-diffusion.html" style= "color: black; font-size: 12px;">
                            [AI 그림]프롬프트의 한계점 - 올바른 프롬프트 작성하기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/안드로이드.html">
                    안드로이드
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C/2023/12/29/bottomNavigationView.html" style= "color: black; font-size: 12px;">
                            [Android Studio]Bottom Navigation Bar 구현 - OnItemSelectedListener 이용
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/CS.html">
                    CS
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/cs/2024/01/02/binary.html" style= "color: black; font-size: 12px;">
                            [CS] 2의 보수
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/JAVA.html">
                    JAVA
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">24 Oct 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/09/30/spring-gpt-backend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Sep 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/08/26/spring-n-plus-1-problem.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링 N + 1 문제
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">26 Aug 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/WEB.html">
                    WEB
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">24 Oct 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/react/2024/10/15/openai-realtime.html" style= "color: black; font-size: 12px;">
                            [WEB][react] Chat-gpt realtime api 구현 및 설명
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Oct 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/09/30/spring-gpt-backend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Sep 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/PS.html">
                    PS
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/05/02/boj7562.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 7562번 :: 나이트의 이동 :: 실버 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 May 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/03/28/boj12100.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 12100번 :: 2048(Easy) :: 골드 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/DP.html">
                    DP
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ps/dp/%ED%8C%8C%EC%9D%B4%EC%8D%AC/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/java/2024/01/16/targetNumber.html" style= "color: black; font-size: 12px;">
                            [프로그래머스][PS] 타겟 넘버 :: LEVEL 2 (DP 풀이)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">16 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/파이썬.html">
                    파이썬
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/02/01/boj1931.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1931번 :: 회의실 배정 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">01 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/01/30/boj2178.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 2178번 :: 미로 탐색 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Jan 2024</small>
                    </li>
                    
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/프로그래머스.html">
                    프로그래머스
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ps/dp/%ED%8C%8C%EC%9D%B4%EC%8D%AC/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/java/2024/01/16/targetNumber.html" style= "color: black; font-size: 12px;">
                            [프로그래머스][PS] 타겟 넘버 :: LEVEL 2 (DP 풀이)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">16 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/백준.html">
                    백준
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/05/02/boj7562.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 7562번 :: 나이트의 이동 :: 실버 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 May 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/03/28/boj12100.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 12100번 :: 2048(Easy) :: 골드 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/자료구조.html">
                    자료구조
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/01/30/boj2178.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 2178번 :: 미로 탐색 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EB%B0%B1%EC%A4%80/ps/2024/01/23/boj1935.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 1935번 :: 후위 표기식 2 :: 실버 3 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">23 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ps/%EB%B0%B1%EC%A4%80/java/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2024/01/17/coworkerInCompany.html" style= "color: black; font-size: 12px;">
                            [백준][PS] 회사에 있는 사람 :: 실버 5(자료구조)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">17 Jan 2024</small>
                    </li>
                    
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/linux.html">
                    linux
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/linux/2024/02/01/utm.html" style= "color: black; font-size: 12px;">
                            [리눅스] 애플 실리콘 맥에 리눅스 설치하는 법(UTM)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">01 Feb 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/DB.html">
                    DB
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/db/2024/02/29/materialized-view.html" style= "color: black; font-size: 12px;">
                            [DB] 구체화된 뷰는 테이블과 어떻게 다를까?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Feb 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/리뷰.html">
                    리뷰
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%A6%AC%EB%B7%B0/2024/03/06/sd-card.html" style= "color: black; font-size: 12px;">
                            [후기] 알리익스프레스 SD카드 배송 후기 / 용량 뻥튀기 확인하는법
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">06 Mar 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/REACT.html">
                    REACT
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/react/2024/10/15/openai-realtime.html" style= "color: black; font-size: 12px;">
                            [WEB][react] Chat-gpt realtime api 구현 및 설명
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Oct 2024</small>
                    </li>
                    
                
            
        
    </ul>
</sidebar>

    <div class="col-lg-8 col-md-10 mx-auto">
<!-- 본문 카테고리를 추가하는 코드 -->
            <a style="font-family: 'Noto Sans KR', sans-serif;">
              카테고리 링크
            <a>

          <div style="font-family: 'Noto Sans KR', sans-serif;">
            
              <a href="http://localhost:4000/category/WEB.html" style="color: black;">📁 WEB</a>
            
              <a href="http://localhost:4000/category/JAVA.html" style="color: black;">📁 JAVA</a>
            
          </div>
          
<!-- 본문 카테고리를 추가하는 코드 -->

      <h2 id="webspring-스프링으로-간단한-chat-gpt-페이지-구현하기---1">[WEB][Spring] 스프링으로 간단한 Chat-GPT 페이지 구현하기 - 1</h2>

<h3 id="1-서론">1. 서론</h3>

<p><img src="/img/posts/spring/gpt/1.png" width="80%" /></p>

<p>개인적으로 진행했던 프로젝트에서 스프링에 GPT-4o API를 이용해 현재 상황을 분석하고 앞으로의 전략을 제시하는 기능을 구현했었는데,
이번에는 GPT-4o API를 이용해서 간단한 채팅 페이지를 구현해 보고자 한다. 간단한 completion 기능을 이용하고자 한다면 굳이 구독하지는 않아도 
되지 않을까 싶기도 하고 스프링도 손에 익어서 몇 시간이면 구현이 가능할 것 같아서 완성해 보았다.</p>

<p>약 2일 정도 걸렸고 대부분은 프론트엔드에서 걸린 시간이 많았다. 
아직 불완전한 부분이 있긴 하지만 충분히 사용할만한 수준으로, 챗GPT 페이지와 유사한 형태의 채팅 페이지를 구현했다.</p>

<h3 id="2-api-요청-방법">2. API 요청 방법</h3>

<p>일단 OpenAI API를 사용하기 위해서는 API Key가 필요하다. 이는 OpenAi 홈페이지에서 계정을 만들고 API Key를 발급받으면 된다.
또한 OpenAI API를 사용하기 위해서는 요청을 보낼 때, JSON 형식으로 데이터를 보내야 한다.
이 JSON 형식은 다음과 같은데</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"요청 모델 명 (ex. gpt-3.5-turbo)"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"사용자가 입력한 메시지"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assistant"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"사용자가 입력한 메시지에 대한 응답"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>
<p>하나의 챗 페이지에서 대화한 내용을 GPT에 보낼 때 위와 같은 형식으로 보내야 한다.</p>

<p>보면 눈치채겠지만, <strong>GPT의 입력은 하나의 챗 페이지에서 대화한 메시지를 모두 다 입력으로 보낸다!!</strong></p>

<p>이는 GPT가 한번의 챗 페이지에서 대화한 내용을 계속 반복해서 입력받는다는 뜻이다. 이를 모르는 사람들이 꽤 있었는데,
다시 말하면 결국 하나의 대화가 길어지면 길어질수록 GPT의 맥락이 점점 한정되어서 성능이 떨어지게 된다. 
생각할 공간이 줄어드는 것과 비슷하다.</p>

<p>또한 토큰에서도 불이익이 있는데 이는 GPT가 한번에 처리할 수 있는 토큰의 수가 제한되어 있기 때문이다. 예를 들어서, GPT-3.5-turbo의 경우 4096개의 토큰을 처리할 수 있다.
게다가 GPT의 과금에 있어서, OpenAI는 1000개의 토큰을 처리할 때마다 일정량의 과금을 받는데, 한번의 대화가 길어지면 길어질수록 이전 대화의 메시지가 계속 입력되어서
보다 떨어지는 성능인데도 불구하고 더 많은 과금이 발생하게 된다.</p>

<p>그러니까 한번의 챗 페이지에서 대화를 길게 이어 나가는 것보다는, 짧은 대화를 여러 번 반복하는 것이 좋다.
한번의 대화에서 꼭 고맥락이 필요한 게 아니라면 성능상의 이점은 물론이고 과금적인 측면에서도 대화가 길어지면 길어질수록
더 많은 불이익이 발생하게 된다.</p>

<p>아무튼, 이러한 GPT의 입력 형식을 알았으니, 이제 이를 스프링에서 어떻게 구현할지 알아보자.</p>

<h3 id="2-configuration-파일">2. Configuration 파일</h3>

<p>인터넷에서 찾은 대부분의 코드는 WebClient를 사용한 것이 아니라 RestTemplate을 사용한 코드가 많았다.
하지만, RestTemplate은 더 이상 사용되지 않는다고 하니 WebClient를 사용해서 구현해 보았다.</p>

<h4 id="openaiconfigjava">OpenAIConfig.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.config</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.JsonNode</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.ObjectMapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.node.ObjectNode</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Value</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Bean</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.Configuration</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.reactive.function.client.WebClient</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OpenAIConfig</span> <span class="o">{</span>
    <span class="nd">@Value</span><span class="o">(</span><span class="s">"${openai.api.key}"</span><span class="o">)</span> <span class="c1">// application.properties에 저장된 openai.api.key를 불러온다.</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">openAiKey</span><span class="o">;</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">WebClient</span> <span class="nf">webClient</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nc">WebClient</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">baseUrl</span><span class="o">(</span><span class="s">"https://api.openai.com"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">defaultHeader</span><span class="o">(</span><span class="s">"Authorization"</span><span class="o">,</span> <span class="s">"Bearer "</span> <span class="o">+</span> <span class="n">openAiKey</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
    
    <span class="c1">// ObjectMapper 빈 등록</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="nc">ObjectMapper</span> <span class="nf">objectMapper</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">ObjectMapper</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="applicationproperties">application.properties</h4>

<div class="language-properties highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="py">spring.application.name</span><span class="p">=</span><span class="s">chatgpt-spring</span>

<span class="py">spring.mvc.static-path-pattern</span><span class="p">=</span><span class="s">/static/**</span>
<span class="py">spring.thymeleaf.prefix</span><span class="p">=</span><span class="s">classpath:/templates/</span>
<span class="py">spring.thymeleaf.suffix</span><span class="p">=</span><span class="s">.html</span>

<span class="py">openai.api.key</span><span class="p">=</span> <span class="s">본인 키파일</span>

<span class="py">spring.datasource.url</span><span class="p">=</span><span class="s">본인 DB 호스트</span>
<span class="py">spring.datasource.username</span><span class="p">=</span><span class="s">본인 DB 유저</span>
<span class="py">spring.datasource.password</span><span class="p">=</span><span class="s">본인 DB 비밀번호</span>

</code></pre></div></div>

<p>이렇게 설정을 하면 OpenAIConfig 파일에서 WebClient를 빈으로 등록하고, application.properties에서 OpenAI API Key를 불러와서 사용할 수 있다.
DB 설정은 본인의 DB에 맞게 설정하면 된다. 나는 MariaDB를 사용했다.
이정도는 스프링을 사용하면서 자주 사용하는 설정이니까 크게 어렵지 않을 것이다. DB에 저장하지 않고, GPT의 응답만 받아서 사용하고 싶다면 DB 설정은 필요없다.</p>

<h3 id="3-domain-파일">3. Domain 파일</h3>

<p>여기에는 DB와 연결되는 엔티티 클래스를 정의한다. 만약 단순히 GPT를 이용해서 응답을 받는 기능을 스프링에 탑재하고자 한다면 이 부분은 필요없이 DTO만 작성하면 된다.
아무튼 나는 Chat-gpt 페이지와 유사한 형태의 채팅 페이지를 직접 구현해 보고자 했기 때문에 엔티티 클래스를 작성했다.</p>

<h4 id="chatjava">Chat.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.domain</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.annotation.JsonManagedReference</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">jakarta.persistence.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="nd">@Getter</span> <span class="nd">@Setter</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"chat"</span><span class="o">)</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Chat</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="nd">@ManyToOne</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"user_id"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">User</span> <span class="n">user</span><span class="o">;</span>

    <span class="nd">@OneToMany</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="s">"chat"</span><span class="o">)</span>
    <span class="nd">@JsonManagedReference</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Message</span><span class="o">&gt;</span> <span class="n">messages</span><span class="o">;</span>

<span class="o">}</span>

</code></pre></div></div>

<p>이는 앞서 말했던 것처럼 Chat 페이지와 유사한 형태의 채팅 페이지를 구현하기 위한 엔티티 클래스이다. 챗은 맥락을 가지고 있는 메시지의 집합이라고 생각하면 된다.
흔히 이용하는 GPT 페이지에서 한 번의 챗 페이지에 해당한다.
어떤 유저의 채팅인지와 메시지의 리스트를 가지고 있다.</p>

<h4 id="messagejava">Message.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.domain</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.annotation.JsonBackReference</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.annotation.JsonManagedReference</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">jakarta.persistence.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="nd">@Getter</span> <span class="nd">@Setter</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"message"</span><span class="o">)</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Message</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">role</span><span class="o">;</span>

    <span class="nd">@Column</span><span class="o">(</span><span class="n">length</span> <span class="o">=</span> <span class="mi">10000</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>

    <span class="nd">@ManyToOne</span>
    <span class="nd">@JoinColumn</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"chat_id"</span><span class="o">)</span>
    <span class="nd">@JsonBackReference</span>
    <span class="kd">private</span> <span class="nc">Chat</span> <span class="n">chat</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">tokenCount</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">model</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Date</span> <span class="n">datetime</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<p>메시지는 챗의 메시지이다. 메시지는 역할, 내용, 토큰 수, 모델, 날짜를 가지고 있다. 역할은 사용자인지 GPT인지를 나타내고, 내용은 메시지의 내용을 나타낸다.
토큰 수는 GPT가 처리한 토큰의 총합을 나타내는데 보낸 메시지의 토큰 수와 받은 메시지의 토큰 수를 합한 값이다. 이게 조금 이상하다고 생각할 수 있지만,
어차피 Open-ai에서 과금을 계산할 때 보낸 메시지의 토큰 수, 받은 메시지의 토큰 수를 합해 계산하기 때문에 상관이 없기도 하고,</p>

<p>보낸 메시지의 한국어 토큰 계산은 결국 response를 받아야만 알 수 있기 때문에 이렇게 구현했다.</p>

<h4 id="userjava">User.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.domain</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">jakarta.persistence.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Getter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.Setter</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="nd">@Getter</span> <span class="nd">@Setter</span>
<span class="nd">@Table</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"user"</span><span class="o">)</span>
<span class="nd">@Entity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
    <span class="nd">@Id</span>
    <span class="nd">@GeneratedValue</span><span class="o">(</span><span class="n">strategy</span> <span class="o">=</span> <span class="nc">GenerationType</span><span class="o">.</span><span class="na">IDENTITY</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">id</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">email</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nc">String</span> <span class="n">password</span><span class="o">;</span>

    <span class="nd">@OneToMany</span><span class="o">(</span><span class="n">mappedBy</span> <span class="o">=</span> <span class="s">"user"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Chat</span><span class="o">&gt;</span> <span class="n">chats</span><span class="o">;</span>

<span class="o">}</span>

</code></pre></div></div>

<h3 id="4-repository-파일">4. Repository 파일</h3>

<p>빠른 개발을 위해서 필요한 부분만 간단히 작성했다. 성능이 나쁠수도 있다. 
DB설정이 안되어 있거나 DB에 저장하지 않고, GPT의 응답만 받아서 사용하고 싶다면 이 부분은 필요없다.</p>

<h4 id="chatrepositoryjava">ChatRepository.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Chat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Repository</span><span class="o">;</span>

<span class="nd">@Repository</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ChatRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">Chat</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="messagerepositoryjava">MessageRepository.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Message</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MessageRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">Message</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="userrepositoryjava">UserRepository.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.repository</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.User</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.data.jpa.repository.JpaRepository</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">UserRepository</span> <span class="kd">extends</span> <span class="nc">JpaRepository</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">,</span> <span class="nc">Long</span><span class="o">&gt;</span> <span class="o">{</span>
<span class="o">}</span>

</code></pre></div></div>

<h3 id="5-dto-파일">5. DTO 파일</h3>

<h4 id="chatdtojava">ChatDto.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">dto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="nd">@Data</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChatDTO</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">model</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MessageDTO</span><span class="o">&gt;</span> <span class="n">messages</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<p>이 DTO는 GPT의 입력 형식과 동일하게 구성되어 있다. 즉, 단순히 페이지를 저장하거나 하고 싶지 않다면 해당 DTO만 작성해도 된다. 이를 JSON 형식으로 파싱해서 GPT에 보낼 것이다.</p>

<h4 id="messagedtojava">MessageDTO.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">dto</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">lombok.Data</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Date</span><span class="o">;</span>

<span class="nd">@Data</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MessageDTO</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">role</span><span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">content</span><span class="o">;</span>
<span class="o">}</span>

</code></pre></div></div>

<p>role은 사용자인지 GPT인지를 나타내고, content는 메시지의 내용을 나타낸다. role의 경우 사용자의 메시지는 user, GPT의 응답은 assistant로 고정되어 있어서 다른 값을 넣으면 Bad Request가 발생한다.
<strong>system 롤이 있는데, 이는 해당 대화(Chat)의 GPT의 전반적인 맥락과 규칙을 지시하는 역할을 하고, 보통 가장 먼저 보내는 메시지에 사용된다.</strong>
assistant role은 사용자의 메시지에 대한 응답을 나타낸다. 이것 외에는 오류가 발생한다.
예를 들어서 해당 GPT를 카페의 점원으로 사용하고자 할 때 system role을 이용해서 “너는 카페의 점원이야”라는 메시지를 먼저 보내고, 그 다음에 사용자의 메시지를 보내는 식이다.</p>

<h3 id="6-service-파일">6. Service 파일</h3>

<h4 id="chatservicejava">ChatService.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Chat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.repository.ChatRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>

<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChatService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ChatRepository</span> <span class="n">chatRepository</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nc">Chat</span> <span class="nf">CreateChat</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">Chat</span> <span class="n">chat</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Chat</span><span class="o">();</span>
        <span class="n">chatRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">chat</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">chat</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Iterable</span><span class="o">&lt;</span><span class="nc">Chat</span><span class="o">&gt;</span> <span class="nf">FindAllChats</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">chatRepository</span><span class="o">.</span><span class="na">findAll</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">DeleteChat</span><span class="o">(</span><span class="nc">Long</span> <span class="n">chatId</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">chatRepository</span><span class="o">.</span><span class="na">deleteById</span><span class="o">(</span><span class="n">chatId</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nc">Chat</span> <span class="nf">FindChatById</span><span class="o">(</span><span class="nc">Long</span> <span class="n">chatId</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">chatRepository</span><span class="o">.</span><span class="na">findById</span><span class="o">(</span><span class="n">chatId</span><span class="o">).</span><span class="na">orElse</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<h4 id="messageservicejava">MessageService.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.service</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Chat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Message</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.repository.MessageRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.JsonNode</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.fasterxml.jackson.databind.ObjectMapper</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">dto.ChatDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">dto.MessageDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">io.netty.handler.codec.http.HttpResponseStatus</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Service</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.reactive.function.client.WebClient</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@Service</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MessageService</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ChatService</span> <span class="n">chatService</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MessageRepository</span> <span class="n">messageRepository</span><span class="o">;</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">WebClient</span> <span class="n">webClient</span><span class="o">;</span>
    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">ObjectMapper</span> <span class="n">objectMapper</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nc">Message</span> <span class="nf">SendMessage</span><span class="o">(</span><span class="nc">Long</span> <span class="n">chatId</span><span class="o">,</span> <span class="nc">String</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Chat</span> <span class="n">chat</span> <span class="o">=</span> <span class="n">chatService</span><span class="o">.</span><span class="na">FindChatById</span><span class="o">(</span><span class="n">chatId</span><span class="o">);</span>
        <span class="nc">Message</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Message</span><span class="o">();</span>
        <span class="n">message</span><span class="o">.</span><span class="na">setChat</span><span class="o">(</span><span class="n">chat</span><span class="o">);</span>
        <span class="n">message</span><span class="o">.</span><span class="na">setRole</span><span class="o">(</span><span class="s">"user"</span><span class="o">);</span>
        <span class="n">message</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">content</span><span class="o">);</span>
        <span class="n">messageRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>

        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Message</span><span class="o">&gt;</span> <span class="n">messages</span> <span class="o">=</span> <span class="n">chat</span><span class="o">.</span><span class="na">getMessages</span><span class="o">();</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">MessageDTO</span><span class="o">&gt;</span> <span class="n">messageDTOs</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="nc">Message</span> <span class="n">m</span> <span class="o">:</span> <span class="n">messages</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">MessageDTO</span> <span class="n">messageDTO</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MessageDTO</span><span class="o">();</span>
            <span class="n">messageDTO</span><span class="o">.</span><span class="na">setRole</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="na">getRole</span><span class="o">());</span>
            <span class="n">messageDTO</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">m</span><span class="o">.</span><span class="na">getContent</span><span class="o">());</span>
            <span class="n">messageDTOs</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">messageDTO</span><span class="o">);</span>
        <span class="o">}</span>

        <span class="nc">ChatDTO</span> <span class="n">chatDTO</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ChatDTO</span><span class="o">();</span>
        <span class="n">chatDTO</span><span class="o">.</span><span class="na">setMessages</span><span class="o">(</span><span class="n">messageDTOs</span><span class="o">);</span>
        <span class="n">chatDTO</span><span class="o">.</span><span class="na">setModel</span><span class="o">(</span><span class="s">"gpt-3.5-turbo"</span><span class="o">);</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">webClient</span><span class="o">.</span><span class="na">post</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="s">"https://api.openai.com/v1/chat/completions"</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">bodyValue</span><span class="o">(</span><span class="n">chatDTO</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">retrieve</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">bodyToMono</span><span class="o">(</span><span class="nc">String</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">block</span><span class="o">();</span>

            <span class="nc">JsonNode</span> <span class="n">root</span> <span class="o">=</span> <span class="n">objectMapper</span><span class="o">.</span><span class="na">readTree</span><span class="o">(</span><span class="n">response</span><span class="o">);</span>
            <span class="nc">String</span> <span class="n">assistantContent</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">"choices"</span><span class="o">).</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">path</span><span class="o">(</span><span class="s">"message"</span><span class="o">).</span><span class="na">path</span><span class="o">(</span><span class="s">"content"</span><span class="o">).</span><span class="na">asText</span><span class="o">();</span>
            <span class="nc">Integer</span> <span class="n">totalTokens</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="na">path</span><span class="o">(</span><span class="s">"usage"</span><span class="o">).</span><span class="na">path</span><span class="o">(</span><span class="s">"total_tokens"</span><span class="o">).</span><span class="na">asInt</span><span class="o">();</span>

            <span class="nc">Message</span> <span class="n">responseMessage</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Message</span><span class="o">();</span>

            <span class="n">responseMessage</span><span class="o">.</span><span class="na">setChat</span><span class="o">(</span><span class="n">chat</span><span class="o">);</span>
            <span class="n">responseMessage</span><span class="o">.</span><span class="na">setModel</span><span class="o">(</span><span class="n">chatDTO</span><span class="o">.</span><span class="na">getModel</span><span class="o">());</span>
            <span class="n">responseMessage</span><span class="o">.</span><span class="na">setRole</span><span class="o">(</span><span class="s">"assistant"</span><span class="o">);</span>
            <span class="n">responseMessage</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">assistantContent</span><span class="o">);</span>
            <span class="n">responseMessage</span><span class="o">.</span><span class="na">setTokenCount</span><span class="o">(</span><span class="n">totalTokens</span><span class="o">);</span>
            <span class="n">messageRepository</span><span class="o">.</span><span class="na">save</span><span class="o">(</span><span class="n">responseMessage</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">responseMessage</span><span class="o">;</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>일단 빠른 테스트를 위해서 model을 고정시켰다. 필요하다면 이를 동적으로 변경하면 된다. 앞서 작성한 DTO 파일과 도메인을 이용해서 GPT에 요청을 보내고, 응답을 받아서 DB에 저장한다.
만약 도메인 저장이 필요가 없다면 해당 부분을 삭제하면 된다.</p>

<p>Configuration 파일에서 빈으로 등록했던 ObjectMapper를 이용해서 JSON 형식의 응답을 파싱한다.</p>

<h3 id="7-controller-파일">7. Controller 파일</h3>

<h4 id="chatcontrollerjava">ChatController.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Chat</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.repository.ChatRepository</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.service.ChatService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.*</span><span class="o">;</span>

<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChatController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ChatService</span> <span class="n">chatService</span><span class="o">;</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/chat"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">Iterable</span><span class="o">&lt;</span><span class="nc">Chat</span><span class="o">&gt;</span> <span class="nf">FindAllChats</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">chatService</span><span class="o">.</span><span class="na">FindAllChats</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/chat/new"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">CreateChat</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">chatService</span><span class="o">.</span><span class="na">CreateChat</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/chat/{chatId}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">Chat</span> <span class="nf">FindChatById</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="nc">Long</span> <span class="n">chatId</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">chatService</span><span class="o">.</span><span class="na">FindChatById</span><span class="o">(</span><span class="n">chatId</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h4 id="messagecontrollerjava">MessageController.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.domain.Message</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.service.ChatService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.chatgptspring.service.MessageService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">dto.ChatDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">dto.MessageDTO</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.*</span><span class="o">;</span>


<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@RestController</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MessageController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ChatService</span> <span class="n">chatService</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">MessageService</span> <span class="n">messageService</span><span class="o">;</span>

    <span class="nd">@PostMapping</span><span class="o">(</span><span class="s">"/chat/{chatId}"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">Message</span> <span class="nf">CreateMessage</span><span class="o">(</span><span class="nd">@PathVariable</span> <span class="nc">Long</span> <span class="n">chatId</span><span class="o">,</span> <span class="nd">@RequestBody</span> <span class="nc">MessageDTO</span> <span class="n">messageDTO</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">String</span> <span class="n">messageContent</span> <span class="o">=</span> <span class="n">messageDTO</span><span class="o">.</span><span class="na">getContent</span><span class="o">();</span>
        <span class="k">return</span> <span class="n">messageService</span><span class="o">.</span><span class="na">SendMessage</span><span class="o">(</span><span class="n">chatId</span><span class="o">,</span> <span class="n">messageContent</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>

</code></pre></div></div>

<h3 id="8-테스트">8. 테스트</h3>

<p>이제 Postman을 이용해서 테스트를 해보자. 먼저 챗을 생성하고, 챗의 id를 이용해서 메시지를 보내면 된다.</p>

<h4 id="chat-생성">Chat 생성</h4>

<p><img src="/img/posts/spring/gpt/2.png" width="90%" /></p>

<h4 id="메시지-보내기">메시지 보내기</h4>

<p><img src="/img/posts/spring/gpt/3.png" width="90%" />
<img src="/img/posts/spring/gpt/4.png" width="90%" /></p>

<p>간단한 시를 써보라고 했는데,</p>

<blockquote>
  <blockquote>
    <p>가을밤에 별빛이 찬란하고, 너의 손을 잡으면 행복해지는 마법 같아.</p>
  </blockquote>
</blockquote>

<p>라고 시를 작성해 주었다.</p>

<p>꽤나 문학적인걸, GPT.</p>

<h3 id="9-마치며">9. 마치며</h3>

<p>아직 백엔드가 완벽히 구현된 것은 아니다. 이를 이용해서 사용자 인증도 구현해야 하고, 더 많은 기능을 추가해야 한다.
프론트엔드와 연결하는 부분은 다음 포스트에서 다루도록 하겠다.</p>


      <hr>
      <div class="row mb-5 mt-5">
  <div class="col-md-6 d-flex align-items-end ">
    <span>Thanks. <i>mind sharing?</i></span>
  </div>

  <!-- Right Column with Social Media Icons (on the right for larger screens, on bottom for smaller screens) -->
  <div class="col-md-6 order-md-2 order-1 text-md-right text-center mt-3 mt-md-0">
    <div>

      <a
          href="https://www.linkedin.com/sharing/share-offsite?url=https://ash-tensor.github.io/web/java/2024/09/30/spring-gpt-backend.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2"
       >
        <span class="fa-stack fa-lg" style="color: #0077b5;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="https://twitter.com/intent/tweet?text=[WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1&url=https://ash-tensor.github.io/web/java/2024/09/30/spring-gpt-backend.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #1DA1F2;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="http://www.reddit.com/submit?url=https://ash-tensor.github.io/web/java/2024/09/30/spring-gpt-backend.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #FF4500;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-reddit fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </div>
  </div>
</div>

<hr/>

      <div class="clearfix" >

<!-- 수정중 -->
<!-- 가장 첫번쨰 카테고리의 최근 글 불러오는 글 기능 추가  -->
<!-- <ul class="posts-list"> -->

<ul class="mb-5 ">
  
  <p>
    <a style= "font-size: 20px; font-weight: bold; font-family: 'Noto Sans KR', sans-serif;" href= "http://localhost:4000/category/WEB.html">
      WEB 카테고리의 다른 글
    </a>
  </p>
  
  
  
    
      <li>
        <h3>
          <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "font-size: 17px;">
            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
          </a>
          <small style= "font-size: 14px;">24 Oct 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/react/2024/10/15/openai-realtime.html" style= "font-size: 17px;">
            [WEB][react] Chat-gpt realtime api 구현 및 설명
          </a>
          <small style= "font-size: 14px;">15 Oct 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/09/30/spring-gpt-backend.html" style= "font-size: 17px;">
            [WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1
          </a>
          <small style= "font-size: 14px;">30 Sep 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/08/26/spring-n-plus-1-problem.html" style= "font-size: 17px;">
            [WEB][Spring] 스프링 N + 1 문제
          </a>
          <small style= "font-size: 14px;">26 Aug 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/08/22/aws-rekognition-spring-setup.html" style= "font-size: 17px;">
            [WEB][AWS] AWS Rekognition Face Detection Spring Boot 설정
          </a>
          <small style= "font-size: 14px;">22 Aug 2024</small>
        </h3>
      </li>
      
    
  
    
  
    
  
    
  
    
  
    
  
</ul>


<!-- 수정중 -->
<!-- 가장 첫번쨰 카테고리의 최근 글 불러오는 글 기능 추가  -->


<!-- 코멘트 란을 추가하는 코드 -->


  <div id="disqus_thread"></div>
  <script>
      /**
      *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
      *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
      /*
      var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
      */
      (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://tensorstudio.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


<!-- 코멘트 란을 추가하는 코드 -->

        
        <a class="btn btn-primary float-left" href="/web/java/2024/08/26/spring-n-plus-1-problem.html" data-toggle="tooltip" data-placement="top" title="[WEB][Spring] 스프링 N + 1 문제">&larr; Previous<span class="d-none d-md-inline">
            Post</span></a>
        
        
        <a class="btn btn-primary float-right" href="/web/react/2024/10/15/openai-realtime.html" data-toggle="tooltip" data-placement="top" title="[WEB][react] Chat-gpt realtime api 구현 및 설명">Next<span class="d-none d-md-inline">
            Post</span> &rarr;</a>
        

      </div>

    </div>
  </div>
</div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:tensor17s@gmail.com" class="text-gray">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          
          
        </ul>

        <p class="copyright text-muted">
          Build with: 
          <a 
            href="https://github.com/StartBootstrap/startbootstrap-clean-blog-jekyll"
            class="text-gray"
            target="_blank">startbootstrap-clean-blog-jekyll
          </a>
        </p>
        <p class="copyright text-center text-gray">
            TENSOR STUDIO
        </p>

      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  

</body>

</html>
