<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2 - Tensor Studio
    
  </title>

  <meta name="description" content="[WEB][Spring] 스프링으로 간단한 Chat-GPT 페이지 구현하기 - 2">
  <meta property="og:description" content="[WEB][Spring] 스프링으로 간단한 Chat-GPT 페이지 구현하기 - 2">
  <meta property="og:type" content="website">
  <meta property="og:title" content="[WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2">
  <meta property="og:url" content="https://ash-tensor.github.io/web/java/2024/10/24/spring-gpt-frontend.html">

  
    <meta property="og:image" content="https://ash-tensor.github.io/img/port.jpg"/>
  

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6058208689389341"
          crossorigin="anonymous"></script>

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/>

<!--  goun doun font // font-family: 'Noto Serif KR', serif;-->
<!--  <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR&display=swap" rel="stylesheet">-->


  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/web/java/2024/10/24/spring-gpt-frontend.html">
  <link rel="alternate" type="application/rss+xml" title="Tensor Studio" href="/feed.xml">

<!--  favicon-->
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <style>
    #sidebar {
      display: none;
    }
    @media (min-width: 1000px) {
      #sidebar {
        display: block;
      }
      
    }
  </style>
  
</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">Tensor Studio</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/categol">Categories</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->


<header class="masthead" style="background-image: url('/img/port.jpg')">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>[WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2</h1>
          
          <h2 class="subheading">Open-AI Chat-GPT completion api를 이용한 간단한 챗봇 페이지 프론트엔드 구현</h2>
          
          <span class="meta">Posted by
            <a href="#">ash tensor</a>
            on October 24, 2024 &middot; <span class="reading-time" title="Estimated read time">
  
   22 mins  read </span>

          </span>
<!-- 카테고리를 추가하는 코드 -->
            <a>
              카테고리
            <a>
          <div style="font-family: 'Noto Sans KR', sans-serif;">
            
              <a href="http://localhost:4000/category/WEB.html" style="color: white;">📁WEB</a>
            
              <a href="http://localhost:4000/category/JAVA.html" style="color: white;">📁JAVA</a>
            
          </div>
<!-- 카테고리를 추가하는 코드 -->
        </div>
      </div>
    </div>
  </div>
</header>
<div class="container" style="display: flex">
  <div class="row">
<!-- sidebar를 추가하는 코드 -->
    <sidebar id="sidebar" 
            style="width: 260px; 
            border-right: gray 1px solid; 
            padding-left: 0; 
            padding-right: 20px;"
            >
    <ul>
        <p style="font-weight: bold; border-top: black 1px solid; border-bottom: black 1px solid; text-align: center; margin-top: 2px; padding: 2px; padding-top: 4px">
TENSOR STUDIO
        </p>
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/자격증.html">
                    자격증
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/08/20/bigdata-processing-engineer.html" style= "color: black; font-size: 12px;">
                            [자격증][실기] 빅데이터 분석기사 2024년 1회(8회)실기 합격 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">20 Aug 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/08/06/engineer-information-processor.html" style= "color: black; font-size: 12px;">
                            [자격증][실기] 정보처리기사 2024년 1회 실기 합격 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">06 Aug 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/05/03/bigdata-processor-engineer.html" style= "color: black; font-size: 12px;">
                            [자격증][필기] 빅데이터 분석기사 8회 필기 분석 및 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">03 May 2024</small>
                    </li>
                    
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/깃허브.html">
                    깃허브
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2024/02/08/jekyll-blog-theme-5-sidebar.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그]지킬 블로그 카테고리 / SIDEBAR 기능 추가(clean blog theme)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">08 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2024/01/17/bottom-category-build.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그] 동일 카테고리의 최근 글 기능 개발(clean blog theme)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">17 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2023/12/15/jekyll-blog-theme-4.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그]지킬 블로그 카테고리 / NAVBAR 기능 추가(clean blog theme) - 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Dec 2023</small>
                    </li>
                    
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/ML.html">
                    ML
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ml/2024/03/19/personal-information.html" style= "color: black; font-size: 12px;">
                            [데이터]개인정보 처리 위탁과 제 3자 제공의 차이
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">19 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ml/ai%EA%B7%B8%EB%A6%BC/2023/12/28/stable-diffusion.html" style= "color: black; font-size: 12px;">
                            [AI 그림]프롬프트의 한계점 - 올바른 프롬프트 작성하기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2023</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ml/2023/12/19/esports-ml-1.html" style= "color: black; font-size: 12px;">
                            [데이터 분석]조합에 따른 승률은 얼마나 차이가 날까?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">19 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/AI그림.html">
                    AI그림
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ml/ai%EA%B7%B8%EB%A6%BC/2023/12/28/stable-diffusion.html" style= "color: black; font-size: 12px;">
                            [AI 그림]프롬프트의 한계점 - 올바른 프롬프트 작성하기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/안드로이드.html">
                    안드로이드
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C/2023/12/29/bottomNavigationView.html" style= "color: black; font-size: 12px;">
                            [Android Studio]Bottom Navigation Bar 구현 - OnItemSelectedListener 이용
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/CS.html">
                    CS
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/cs/2024/01/02/binary.html" style= "color: black; font-size: 12px;">
                            [CS] 2의 보수
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/JAVA.html">
                    JAVA
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2025/03/29/backend-interview-question.html" style= "color: black; font-size: 12px;">
                            [WEB][JAVA] 개발자 취업 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Mar 2025</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/12/28/jpa-inheritance.html" style= "color: black; font-size: 12px;">
                            [WEB][JAVA] JPA 상속 및 심화
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">24 Oct 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/WEB.html">
                    WEB
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2025/03/29/backend-interview-question.html" style= "color: black; font-size: 12px;">
                            [WEB][JAVA] 개발자 취업 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Mar 2025</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/review/2025/03/29/cursor-ai-longterm-review.html" style= "color: black; font-size: 12px;">
                            [WEB][REVIEW] 커서 IDE 롱텀 리뷰- AI 에이전트라고 할 만 한가?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Mar 2025</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/12/28/jpa-inheritance.html" style= "color: black; font-size: 12px;">
                            [WEB][JAVA] JPA 상속 및 심화
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/PS.html">
                    PS
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/05/02/boj7562.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 7562번 :: 나이트의 이동 :: 실버 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 May 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/03/28/boj12100.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 12100번 :: 2048(Easy) :: 골드 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/DP.html">
                    DP
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ps/dp/%ED%8C%8C%EC%9D%B4%EC%8D%AC/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/java/2024/01/16/targetNumber.html" style= "color: black; font-size: 12px;">
                            [프로그래머스][PS] 타겟 넘버 :: LEVEL 2 (DP 풀이)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">16 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/파이썬.html">
                    파이썬
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/02/01/boj1931.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1931번 :: 회의실 배정 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">01 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/01/30/boj2178.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 2178번 :: 미로 탐색 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Jan 2024</small>
                    </li>
                    
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/프로그래머스.html">
                    프로그래머스
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ps/dp/%ED%8C%8C%EC%9D%B4%EC%8D%AC/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/java/2024/01/16/targetNumber.html" style= "color: black; font-size: 12px;">
                            [프로그래머스][PS] 타겟 넘버 :: LEVEL 2 (DP 풀이)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">16 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/백준.html">
                    백준
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/05/02/boj7562.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 7562번 :: 나이트의 이동 :: 실버 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 May 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/03/28/boj12100.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 12100번 :: 2048(Easy) :: 골드 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/자료구조.html">
                    자료구조
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/01/30/boj2178.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 2178번 :: 미로 탐색 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EB%B0%B1%EC%A4%80/ps/2024/01/23/boj1935.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 1935번 :: 후위 표기식 2 :: 실버 3 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">23 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ps/%EB%B0%B1%EC%A4%80/java/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2024/01/17/coworkerInCompany.html" style= "color: black; font-size: 12px;">
                            [백준][PS] 회사에 있는 사람 :: 실버 5(자료구조)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">17 Jan 2024</small>
                    </li>
                    
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/linux.html">
                    linux
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/linux/2024/02/01/utm.html" style= "color: black; font-size: 12px;">
                            [리눅스] 애플 실리콘 맥에 리눅스 설치하는 법(UTM)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">01 Feb 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/DB.html">
                    DB
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/db/2024/02/29/materialized-view.html" style= "color: black; font-size: 12px;">
                            [DB] 구체화된 뷰는 테이블과 어떻게 다를까?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Feb 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/리뷰.html">
                    리뷰
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/%EB%A6%AC%EB%B7%B0/2024/12/11/ecount-interview.html" style= "color: black; font-size: 12px;">
                            [후기] 이카운트 코딩 테스트 및 인터뷰 리뷰
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">11 Dec 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/%EB%A6%AC%EB%B7%B0/2024/11/02/cursor-ai-review.html" style= "color: black; font-size: 12px;">
                            [후기] 웹 개발자의 Cursor AI 사용기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 Nov 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%A6%AC%EB%B7%B0/2024/03/06/sd-card.html" style= "color: black; font-size: 12px;">
                            [후기] 알리익스프레스 SD카드 배송 후기 / 용량 뻥튀기 확인하는법
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">06 Mar 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/REACT.html">
                    REACT
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/react/2024/10/15/openai-realtime.html" style= "color: black; font-size: 12px;">
                            [WEB][react] Chat-gpt realtime api 구현 및 설명
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Oct 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/REVIEW.html">
                    REVIEW
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/review/2025/03/29/cursor-ai-longterm-review.html" style= "color: black; font-size: 12px;">
                            [WEB][REVIEW] 커서 IDE 롱텀 리뷰- AI 에이전트라고 할 만 한가?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Mar 2025</small>
                    </li>
                    
                
            
        
    </ul>
</sidebar>

    <div class="col-lg-8 col-md-10 mx-auto">
<!-- 본문 카테고리를 추가하는 코드 -->
            <a style="font-family: 'Noto Sans KR', sans-serif;">
              카테고리 링크
            <a>

          <div style="font-family: 'Noto Sans KR', sans-serif;">
            
              <a href="http://localhost:4000/category/WEB.html" style="color: black;">📁 WEB</a>
            
              <a href="http://localhost:4000/category/JAVA.html" style="color: black;">📁 JAVA</a>
            
          </div>
          
<!-- 본문 카테고리를 추가하는 코드 -->

      <h2 id="webspring-스프링으로-간단한-chat-gpt-페이지-구현하기---2">[WEB][Spring] 스프링으로 간단한 Chat-GPT 페이지 구현하기 - 2</h2>

<h3 id="1-서론">1. 서론</h3>

<p>이전 포스트에서 백엔드를 구현했으니, 이제 프론트엔드를 구현해 보자. 솔직히 이미 예전에 다 구현하긴 했는데,
이제서야 포스팅하게 되었다.</p>

<p>이전 포스팅은, 백엔드는 <a href="https://ash-tensor.github.io/web/java/2024/09/30/spring-gpt-backend.html">여기</a>에서 확인할 수 있다.
실제 작성한 예제는 <a href="https://github.com/Ash-tensor/simple-gpt-page">여기</a>에서 확인할 수 있다.</p>

<p><img src="/img/posts/spring/gpt/1.png" width="80%" /></p>

<h3 id="2-프론트엔드-구현">2. 프론트엔드 구현</h3>

<h4 id="chattingcontrollerjava">ChattingController.java</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">package</span> <span class="nn">com.chatgptspring.controller</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.chatgptspring.service.ChatService</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">lombok.RequiredArgsConstructor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Controller</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.ui.Model</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.web.bind.annotation.GetMapping</span><span class="o">;</span>

<span class="nd">@RequiredArgsConstructor</span>
<span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ChattingController</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="nc">ChatService</span> <span class="n">chatService</span><span class="o">;</span>

    <span class="nd">@GetMapping</span><span class="o">(</span><span class="s">"/chatpage"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">modelController</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"chats"</span><span class="o">,</span> <span class="n">chatService</span><span class="o">.</span><span class="na">FindAllChats</span><span class="o">());</span>
        <span class="k">return</span> <span class="s">"chatting"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>이름을 너무 못짓긴 했는데, 일단 챗 페이지 자체를 리턴하는 컨트롤러를 작성했다.
비록 리액트를 쓰지 않긴 하지만, 리액트처럼 나머지는 js로 작성한 RestAPI를 이용해서 구현할 것이다.</p>

<h4 id="chattinghtml">Chatting.html</h4>

<p>이 부분은 딱히 중요하지 않다. 중요한 부분은 타임리프 템플릿을 이용해서 챗 목록을 그리는 부분과, 
js를 이용해서 메시지를 추가하는 부분이다.</p>

<p>엄청 긴데, 별 내용은 없고, 사실 에셋은 괜찮아 보이는 부분을 가져온 거라서 중요한 부분은 아니다.
아래 js부분을 보거나 아니면 깃허브에서 예제를 확인하면 더 이해가 쉬울 것이다.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Title<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"/static/css/chatting.css"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> 
  <span class="na">integrity=</span><span class="s">"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"</span> 
  <span class="na">integrity=</span><span class="s">"sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"</span> <span class="na">crossorigin=</span><span class="s">"anonymous"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/static/js/chatting.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"/static/js/message.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"flex-box"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sidebar d-flex flex-column flex-shrink-0 p-3 text-bg-dark"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/static"</span> <span class="na">class=</span><span class="s">"d-flex align-items-center mb-3 
        mb-md-0 me-md-auto text-white text-decoration-none"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"bi pe-none me-2"</span> <span class="na">width=</span><span class="s">"40"</span> <span class="na">height=</span><span class="s">"32"</span><span class="nt">&gt;&lt;use</span> <span class="na">xlink:href=</span><span class="s">"#bootstrap"</span><span class="nt">&gt;&lt;/use&gt;&lt;/svg&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"fs-4"</span><span class="nt">&gt;</span>Sidebar<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;hr&gt;</span>
        <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"nav nav-pills flex-column mb-auto"</span> <span class="na">id=</span><span class="s">"chatList"</span><span class="nt">&gt;</span>
            <span class="c">&lt;!-- 기존 채팅 목록 표시 --&gt;</span>
            <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-item"</span> <span class="na">th:each=</span><span class="s">"chat : ${chats}"</span> 
            <span class="na">style=</span><span class="s">"padding: 5px"</span> <span class="na">th:onclick=</span><span class="s">"'drawChat(' + ${chat.id} + ')'"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"nav-link active"</span> <span class="na">th:text=</span><span class="s">"'채팅 ' + ${chat.id}"</span> <span class="na">aria-current=</span><span class="s">"page"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"bi pe-none me-2"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">height=</span><span class="s">"16"</span><span class="nt">&gt;&lt;use</span> <span class="na">xlink:href=</span><span class="s">"#home"</span><span class="nt">&gt;&lt;/use&gt;&lt;/svg&gt;</span>
                    <span class="nt">&lt;span</span> <span class="na">th:text=</span><span class="s">"'채팅 ' + ${chat.id}"</span><span class="nt">&gt;</span>채팅 ID<span class="nt">&lt;/span&gt;</span>
                <span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>

        <span class="c">&lt;!-- 새 채팅 생성 폼 --&gt;</span>
        <span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"createChatForm"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;li&gt;</span>
                <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"nav-link text-white"</span> 
                <span class="na">style=</span><span class="s">"background: none; border: none; padding: 0;"</span> <span class="na">onclick=</span><span class="s">"createNewChat()"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"bi pe-none me-2"</span> <span class="na">width=</span><span class="s">"16"</span> 
                    <span class="na">height=</span><span class="s">"16"</span><span class="nt">&gt;&lt;use</span> <span class="na">xlink:href=</span><span class="s">"#people-circle"</span><span class="nt">&gt;&lt;/use&gt;&lt;/svg&gt;</span>
                    Create New Chat
                <span class="nt">&lt;/button&gt;</span>
            <span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;/form&gt;</span>

        <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;hr&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dropdown"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"d-flex align-items-center text-white text-decoration-none dropdown-toggle"</span>
             <span class="na">data-bs-toggle=</span><span class="s">"dropdown"</span> <span class="na">aria-expanded=</span><span class="s">"false"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"https://github.com/mdo.png"</span> <span class="na">alt=</span><span class="s">""</span> <span class="na">width=</span><span class="s">"32"</span> <span class="na">height=</span><span class="s">"32"</span> <span class="na">class=</span><span class="s">"rounded-circle me-2"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;strong&gt;</span>mdo<span class="nt">&lt;/strong&gt;</span>
            <span class="nt">&lt;/a&gt;</span>
            <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"dropdown-menu dropdown-menu-dark text-small shadow"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>New project...<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Settings<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Profile<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;hr</span> <span class="na">class=</span><span class="s">"dropdown-divider"</span><span class="nt">&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">class=</span><span class="s">"dropdown-item"</span> <span class="na">href=</span><span class="s">"#"</span><span class="nt">&gt;</span>Sign out<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span> <span class="na">style=</span><span class="s">"height: 100%"</span> <span class="na">id=</span><span class="s">"chat-box"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>Comments<span class="nt">&lt;/span&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"comment-box"</span> <span class="na">id=</span><span class="s">"message-box"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"comments"</span> <span class="na">th:each=</span><span class="s">"message: ${chats[0].messages}"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"comment-react"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;button&gt;</span>
                        <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"16"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/svg"</span><span class="nt">&gt;</span>

                            <span class="nt">&lt;path</span> <span class="na">fill=</span><span class="s">"#707277"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M19.4626 3.
                            99415C16.7809 2.34923 14.4404 3.01211 13.0344 4.06801C12.4578 4.50096 12.1696 4.71743 12 4.
                            71743C11.8304 4.71743 11.5422 4.50096 10.9656 4.06801C9.55962 3.01211 7.21909 2.34923 4.
                            53744 3.99415C1.01807 6.15294 0.221721 13.2749 8.33953 19.2834C9.88572 20.4278 10.6588 21 12
                             21C13.3412 21 14.1143 20.4278 15.6605 19.2834C23.7783 13.2749 22.9819 6.15294 19.4626 3.
                             99415Z"</span><span class="nt">&gt;&lt;/path&gt;</span>
                        <span class="nt">&lt;/svg&gt;</span>
                    <span class="nt">&lt;/button&gt;</span>
                    <span class="nt">&lt;hr&gt;</span>
                    <span class="nt">&lt;span&gt;</span>14<span class="nt">&lt;/span&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"comment-container"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">th:classappend=</span><span class="s">"${message.role=='user'} ? 'user' : 'gpt'"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user-pic"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"20"</span> <span class="na">width=</span><span class="s">"20"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">fill=</span><span class="s">"#707277"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2"</span>
                                 <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M6.57757 15.4816C5.1628 16.324 1.45336 18.0441 3.71266 20.1966C4.
                                 81631 21.248 6.04549 22 7.59087 22H16.4091C17.9545 22 19.1837 21.248 20.2873 20.1966C22.
                                 5466 18.0441 18.8372 16.324 17.4224 15.4816C14.1048 13.5061 9.89519 13.5061 6.57757 15.
                                 4816Z"</span><span class="nt">&gt;&lt;/path&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-width=</span><span class="s">"2"</span> <span class="na">fill=</span><span class="s">"#707277"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M16.5 6.5C16.5 8.98528 14.4853
                                 11 12 11C9.51472 11 7.5 8.98528 7.5 6.5C7.5 4.01472 9.51472 2 12 2C14.4853 2 16.5 4.
                                 01472 16.5 6.5Z"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"user-info"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;span</span> <span class="na">th:text=</span><span class="s">"${message.role}"</span><span class="nt">&gt;</span>Yassine Zanina<span class="nt">&lt;/span&gt;</span>
                            <span class="nt">&lt;p&gt;</span>Wednesday, March 13th at 2:45pm<span class="nt">&lt;/p&gt;</span>
                        <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>
                    <span class="nt">&lt;p</span> <span class="na">th:if=</span><span class="s">"${message.role=='user'}"</span> <span class="na">class=</span><span class="s">"comment-content"</span> <span class="na">style=</span><span class="s">"text-align: left"</span> <span class="na">th:text=</span><span class="s">"$
                    {message.content}"</span><span class="nt">&gt;&lt;/p&gt;</span>
                    <span class="nt">&lt;p</span> <span class="na">th:if=</span><span class="s">"${message.role=='assistant'}"</span> <span class="na">class=</span><span class="s">"comment-content"</span> <span class="na">style=</span><span class="s">"text-align: right"</span> <span class="na">th:text=</span><span class="s">"$
                    {message.content}"</span><span class="nt">&gt;&lt;/p&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"text-box"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"box-container"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"message-content"</span> <span class="na">placeholder=</span><span class="s">"Reply"</span><span class="nt">&gt;&lt;/textarea&gt;</span>
                <span class="nt">&lt;div&gt;</span>
                    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"formatting"</span><span class="nt">&gt;</span>
                        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"16"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span>
                                 <span class="na">d=</span><span class="s">"M5 6C5 4.58579 5 3.87868 5.43934 3.43934C5.87868 3 6.58579 3 8 3H12.5789C15.0206 3
                                  17 5.01472 17 7.5C17 9.98528 15.0206 12 12.5789 12H5V6Z"</span> <span class="na">clip-rule=</span><span class="s">"evenodd"</span>
                                   <span class="na">fill-rule=</span><span class="s">"evenodd"</span><span class="nt">&gt;&lt;/path&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span>
                                 <span class="na">d=</span><span class="s">"M12.4286 12H13.6667C16.0599 12 18 14.0147 18 16.5C18 18.9853 16.0599 21 13.6667
                                  21H8C6.58579 21 5.87868 21 5.43934 20.5607C5 20.1213 5 19.4142 5 18V12"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/button&gt;</span>
                        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"16"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M12 4H19"</span><span class="nt">&gt;&lt;/path&gt;</span>

                                <span class="nt">&lt;path</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M8 20L16 4"</span><span class="nt">&gt;&lt;/path&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M5 20H12"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/button&gt;</span>
                        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"16"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span>
                                 <span class="na">d=</span><span class="s">"M5.5 3V11.5C5.5 15.0899 8.41015 18 12 18C15.5899 18 18.5 15.0899 18.5 11.5V3"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            
                                <span class="nt">&lt;path</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M3 21H21"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/button&gt;</span>
                        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"16"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span>
                                 <span class="na">d=</span><span class="s">"M4 12H20"</span><span class="nt">&gt;&lt;/path&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">d=</span><span class="s">"M17.5 7.66667C17.5 5.
                                08934 15.0376 3 12 3C8.96243 3 6.5 5.08934 6.5 7.66667C6.5 8.15279 6.55336 8.59783 6.
                                6668 9M6 16.3333C6 18.9107 8.68629 21 12 21C15.3137 21 18 19.6667 18 16.3333C18 13.9404
                                 16.9693 12.5782 14.9079 12"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/button&gt;</span>
                        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"16"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;circle</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span>
                                 <span class="na">stroke=</span><span class="s">"#707277"</span> <span class="na">r=</span><span class="s">"10"</span> <span class="na">cy=</span><span class="s">"12"</span> <span class="na">cx=</span><span class="s">"12"</span><span class="nt">&gt;&lt;/circle&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#707277"</span>
                                 <span class="na">d=</span><span class="s">"M8 15C8.91212 16.2144 10.3643 17 12 17C13.6357 17 15.0879 16.2144 16 15"</span><span class="nt">&gt;&lt;/path&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"3"</span> <span class="na">stroke=</span><span class="s">"#707277"</span>
                                 <span class="na">d=</span><span class="s">"M8.00897 9L8 9M16 9L15.991 9"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/button&gt;</span>
                        <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"send"</span> <span class="na">title=</span><span class="s">"Send"</span> <span class="na">id=</span><span class="s">"send-message"</span> <span class="na">onclick=</span><span class="s">"sendMessage()"</span><span class="nt">&gt;</span>
                            <span class="nt">&lt;svg</span> <span class="na">fill=</span><span class="s">"none"</span> <span class="na">viewBox=</span><span class="s">"0 0 24 24"</span> <span class="na">height=</span><span class="s">"18"</span> <span class="na">width=</span><span class="s">"18"</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2000/
                            svg"</span><span class="nt">&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#ffffff"</span>
                                 <span class="na">d=</span><span class="s">"M12 5L12 20"</span><span class="nt">&gt;&lt;/path&gt;</span>
                                <span class="nt">&lt;path</span> <span class="na">stroke-linejoin=</span><span class="s">"round"</span> <span class="na">stroke-linecap=</span><span class="s">"round"</span> <span class="na">stroke-width=</span><span class="s">"2.5"</span> <span class="na">stroke=</span><span class="s">"#ffffff"</span>
                                 <span class="na">d=</span><span class="s">"M7 9L11.2929 4.70711C11.6262 4.37377 11.7929 4.20711 12 4.20711C12.2071 4.20711 12.
                                 3738 4.37377 12.7071 4.70711L17 9"</span><span class="nt">&gt;&lt;/path&gt;</span>
                            <span class="nt">&lt;/svg&gt;</span>
                        <span class="nt">&lt;/button&gt;</span>
                    <span class="nt">&lt;/div&gt;</span>
                <span class="nt">&lt;/div&gt;</span>
            <span class="nt">&lt;/div&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>


</code></pre></div></div>

<p>일단 위 컴포넌트는 다른 사람이 작성한 코드를 참고했는데, 글자 크기가 너무 작긴 한것 같지만…
여기서</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">class=</span><span class="s">"nav-link text-white"</span> <span class="na">style=</span><span class="s">"background: none; border: none; padding: 0;"</span>
 <span class="na">onclick=</span><span class="s">"createNewChat()"</span><span class="nt">&gt;</span>
    
</code></pre></div></div>

<p>createNewChat() 함수는 새로운 챗 페이지를 생성하는 함수고,</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">class=</span><span class="s">"send"</span> <span class="na">title=</span><span class="s">"Send"</span> <span class="na">id=</span><span class="s">"send-message"</span> <span class="na">onclick=</span><span class="s">"sendMessage()"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>sendMessage() 함수는 메시지를 보내는 함수이다. 
타임리프 템플릿을 이용해서 버튼을 누르거나 할 때마다 페이지 자체를 리로드하는 방식도 있겠지만, 
그런 방식은 성능이 떨어지기 때문에 이런 식으로 구현했다.</p>

<p>타임리프 템플릿은 처음 페이지를 로드할 때만 이용된다.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">"nav nav-pills flex-column mb-auto"</span> <span class="na">id=</span><span class="s">"chatList"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- 기존 채팅 목록 표시 --&gt;</span>
    <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">"nav-item"</span> <span class="na">th:each=</span><span class="s">"chat : ${chats}"</span> <span class="na">style=</span><span class="s">"padding: 5px"</span> <span class="na">th:onclick=</span><span class="s">"'drawChat(' + ${chat.id} + ')'"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"#"</span> <span class="na">class=</span><span class="s">"nav-link active"</span> <span class="na">th:text=</span><span class="s">"'채팅 ' + ${chat.id}"</span> <span class="na">aria-current=</span><span class="s">"page"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;svg</span> <span class="na">class=</span><span class="s">"bi pe-none me-2"</span> <span class="na">width=</span><span class="s">"16"</span> <span class="na">height=</span><span class="s">"16"</span><span class="nt">&gt;&lt;use</span> <span class="na">xlink:href=</span><span class="s">"#home"</span><span class="nt">&gt;&lt;/use&gt;&lt;/svg&gt;</span>
            <span class="nt">&lt;span</span> <span class="na">th:text=</span><span class="s">"'채팅 ' + ${chat.id}"</span><span class="nt">&gt;</span>채팅 ID<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>

</code></pre></div></div>

<p>이는 기존 채팅 목록을 표시하는 부분이다. 채팅 목록을 클릭하면 drawChat() 함수가 호출되고, 이는 해당 채팅 목록을 그리는 함수이다.</p>

<h4 id="chattingjs">Chatting.js</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">function</span> <span class="nf">createNewChat</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Ajax POST 요청으로 새 채팅 생성</span>
    <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/chat/new</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span>
    <span class="p">}).</span><span class="nf">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// 새 채팅이 생성되면 채팅 목록을 다시 불러오는 함수 호출</span>
            <span class="nf">updateChatList</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// 채팅 목록을 새로 불러오는 함수</span>
<span class="kd">function</span> <span class="nf">updateChatList</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/chat</span><span class="dl">'</span><span class="p">)</span>  <span class="c1">// 채팅 목록을 불러올 API 엔드포인트</span>
        <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">())</span>  <span class="c1">// JSON 응답을 파싱</span>
        <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">chatList</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">chatList</span><span class="dl">'</span><span class="p">);</span>
            <span class="nx">chatList</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>  <span class="c1">// 기존 채팅 목록 초기화</span>

            <span class="c1">// 불러온 데이터를 바탕으로 채팅 목록을 다시 렌더링</span>
            <span class="nx">data</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">chat</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="kd">const</span> <span class="nx">li</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">li</span><span class="dl">'</span><span class="p">);</span>
                <span class="nx">li</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">nav-item</span><span class="dl">'</span><span class="p">);</span>
                <span class="nx">li</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">padding</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">5px</span><span class="dl">'</span><span class="p">;</span>

                <span class="nx">li</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">`
                    &lt;a href="#" class="nav-link active" aria-current="page"&gt;
                        &lt;svg class="bi pe-none me-2" width="16" height="16"&gt;&lt;use xlink:href="#home"&gt;&lt;/use&gt;&lt;/svg&gt;
                        채팅 </span><span class="p">${</span><span class="nx">chat</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">
                    &lt;/a&gt;
                `</span><span class="p">;</span>
                <span class="nx">chatList</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">li</span><span class="p">);</span>  <span class="c1">// 새로 만든 항목을 목록에 추가</span>
            <span class="p">});</span>
        <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">));</span>
<span class="p">}</span>

</code></pre></div></div>

<h4 id="messagejs">message.js</h4>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">async</span> <span class="kd">function</span> <span class="nf">sendMessage</span><span class="p">()</span> <span class="p">{</span>

    <span class="kd">const</span> <span class="nx">chatId</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nf">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">chatId</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">content</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">message-content</span><span class="dl">'</span><span class="p">).</span><span class="nx">value</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">sendedMessage</span> <span class="o">=</span> <span class="nf">createMessage</span><span class="p">({</span><span class="na">role</span><span class="p">:</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">,</span> <span class="na">content</span><span class="p">:</span> <span class="nx">content</span><span class="p">});</span>
    <span class="kd">const</span> <span class="nx">chatBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">message-box</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">chatBox</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">sendedMessage</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/chat/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">chatId</span><span class="p">,</span> <span class="p">{</span>
        <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">({</span><span class="na">content</span><span class="p">:</span> <span class="nx">content</span><span class="p">}),</span>
    <span class="p">});</span>
    <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">recievedMessage</span> <span class="o">=</span> <span class="nf">createMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>

    <span class="nx">chatBox</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">recievedMessage</span><span class="p">);</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nf">createMessage</span><span class="p">(</span><span class="nx">messageData</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">message</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">comments</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">message</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">`
            &lt;div class="comment-react"&gt;
                &lt;button&gt;
                    &lt;svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg"&gt;
                        &lt;path fill="#707277" stroke-linecap="round" stroke-width="2" stroke="#707277" d="M19.4626 3.
                        99415C16.7809 2.34923 14.4404 3.01211 13.0344 4.06801C12.4578 4.50096 12.1696 4.71743 12 4.
                        71743C11.8304 4.71743 11.5422 4.50096 10.9656 4.06801C9.55962 3.01211 7.21909 2.34923 4.53744 3.
                        99415C1.01807 6.15294 0.221721 13.2749 8.33953 19.2834C9.88572 20.4278 10.6588 21 12 21C13.3412
                         21 14.1143 20.4278 15.6605 19.2834C23.7783 13.2749 22.9819 6.15294 19.4626 3.99415Z"&gt;&lt;/path&gt;
                    &lt;/svg&gt;
                &lt;/button&gt;
                &lt;hr&gt;
                &lt;span&gt;14&lt;/span&gt;
            &lt;/div&gt;
                &lt;div class="comment-container"&gt;
                    &lt;div class="</span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">role</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">gpt</span><span class="dl">'</span><span class="p">}</span><span class="s2">"&gt;
                        &lt;div class="user-pic"&gt;
                            &lt;svg fill="none" viewBox="0 0 24 24" height="20" width="20" xmlns="http://www.w3.org/2000/
                            svg"&gt;
                                &lt;path stroke-linejoin="round" fill="#707277" stroke-linecap="round" stroke-width="2"
                                 stroke="#707277" d="M6.57757 15.4816C5.1628 16.324 1.45336 18.0441 3.71266 20.1966C4.
                                 81631 21.248 6.04549 22 7.59087 22H16.4091C17.9545 22 19.1837 21.248 20.2873 20.1966C22.
                                 5466 18.0441 18.8372 16.324 17.4224 15.4816C14.1048 13.5061 9.89519 13.5061 6.57757 15.
                                 4816Z"&gt;&lt;/path&gt;
                                &lt;path stroke-width="2" fill="#707277" stroke="#707277" d="M16.5 6.5C16.5 8.98528 14.4853
                                 11 12 11C9.51472 11 7.5 8.98528 7.5 6.5C7.5 4.01472 9.51472 2 12 2C14.4853 2 16.5 4.
                                 01472 16.5 6.5Z"&gt;&lt;/path&gt;
                            &lt;/svg&gt;
                        &lt;/div&gt;
                        &lt;div class="user-info"&gt;
                            &lt;span&gt;</span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">role</span><span class="p">}</span><span class="s2">&lt;/span&gt;
                            &lt;p&gt;Wednesday, March 13th at 2:45pm&lt;/p&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;p class="comment-content" style="text-align: </span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">role</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">left</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">right</span><span class="dl">'</span><span class="p">}</span><span class="s2">"&gt;
                        </span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span><span class="s2">
                    &lt;/p&gt;
                    
                &lt;/div&gt;
        `</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">message</span><span class="p">;</span>
    
<span class="p">}</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nf">drawChat</span><span class="p">(</span><span class="nx">chatId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">localStorage</span><span class="p">.</span><span class="nf">setItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">chatId</span><span class="dl">'</span><span class="p">,</span> <span class="nx">chatId</span><span class="p">);</span>

    <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/chat/</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">chatId</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">chat</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">();</span>
    <span class="kd">const</span> <span class="nx">messages</span> <span class="o">=</span> <span class="nx">chat</span><span class="p">.</span><span class="nx">messages</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">chatBox</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">message-box</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">chatBox</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="dl">''</span><span class="p">;</span>

    <span class="nx">messages</span><span class="p">.</span><span class="nf">forEach</span><span class="p">(</span><span class="nx">messageData</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">message</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">createElement</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">message</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">comments</span><span class="dl">'</span><span class="p">);</span>
        <span class="nx">message</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">`
            &lt;div class="comment-react"&gt;
                &lt;button&gt;
                    &lt;svg fill="none" viewBox="0 0 24 24" height="16" width="16" xmlns="http://www.w3.org/2000/svg"&gt;
                        &lt;path fill="#707277" stroke-linecap="round" stroke-width="2" stroke="#707277" d="M19.4626 3.
                        99415C16.7809 2.34923 14.4404 3.01211 13.0344 4.06801C12.4578 4.50096 12.1696 4.71743 12 4.
                        71743C11.8304 4.71743 11.5422 4.50096 10.9656 4.06801C9.55962 3.01211 7.21909 2.34923 4.53744 3.
                        99415C1.01807 6.15294 0.221721 13.2749 8.33953 19.2834C9.88572 20.4278 10.6588 21 12 21C13.3412
                         21 14.1143 20.4278 15.6605 19.2834C23.7783 13.2749 22.9819 6.15294 19.4626 3.99415Z"&gt;&lt;/path&gt;
                    &lt;/svg&gt;
                &lt;/button&gt;
                &lt;hr&gt;
                &lt;span&gt;14&lt;/span&gt;
            &lt;/div&gt;
                &lt;div class="comment-container"&gt;
                    &lt;div class="</span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">role</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">gpt</span><span class="dl">'</span><span class="p">}</span><span class="s2">"&gt;
                        &lt;div class="user-pic"&gt;
                            &lt;svg fill="none" viewBox="0 0 24 24" height="20" width="20" xmlns="http://www.w3.org/2000/
                            svg"&gt;
                                &lt;path stroke-linejoin="round" fill="#707277" stroke-linecap="round" stroke-width="2"
                                 stroke="#707277" d="M6.57757 15.4816C5.1628 16.324 1.45336 18.0441 3.71266 20.1966C4.
                                 81631 21.248 6.04549 22 7.59087 22H16.4091C17.9545 22 19.1837 21.248 20.2873 20.1966C22.
                                 5466 18.0441 18.8372 16.324 17.4224 15.4816C14.1048 13.5061 9.89519 13.5061 6.57757 15.
                                 4816Z"&gt;&lt;/path&gt;
                                &lt;path stroke-width="2" fill="#707277" stroke="#707277" d="M16.5 6.5C16.5 8.98528 14.4853
                                 11 12 11C9.51472 11 7.5 8.98528 7.5 6.5C7.5 4.01472 9.51472 2 12 2C14.4853 2 16.5 4.
                                 01472 16.5 6.5Z"&gt;&lt;/path&gt;
                            &lt;/svg&gt;
                        &lt;/div&gt;
                        &lt;div class="user-info"&gt;
                            &lt;span&gt;</span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">role</span><span class="p">}</span><span class="s2">&lt;/span&gt;
                            &lt;p&gt;Wednesday, March 13th at 2:45pm&lt;/p&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;p class="comment-content" style="text-align: </span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">role</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">left</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">right</span><span class="dl">'</span><span class="p">}</span><span class="s2">"&gt;
                        </span><span class="p">${</span><span class="nx">messageData</span><span class="p">.</span><span class="nx">content</span><span class="p">}</span><span class="s2">
                    &lt;/p&gt;
                    
                &lt;/div&gt;
        `</span><span class="p">;</span>
        <span class="nx">chatBox</span><span class="p">.</span><span class="nf">appendChild</span><span class="p">(</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>솔직히 이렇게 할거면 그냥 리액트 쓸걸 그랬다. 그게 더 편리했을 것 같기도 하고…
아무튼, 이렇게 구현하면 페이지 자체를 리로드하지 않고도 메시지를 추가할 수 있다.</p>

<p>코드를 읽어보면 이해하겠지만, 챗 목록을 클릭하면 drawChat() 함수가 호출되고, 이 함수는 해당 챗의 메시지를 그리는 함수이다.
각각의 메시지는 createMessage() 함수를 통해 그려지는데, 이 함수는 메시지의 역할과 내용을 받아서 메시지를 그린다.</p>

<h3 id="마치며">마치며</h3>

<p>만약 실행이 안되거나 오류가 있으면 내가 작성한 테스트 코드를 
<a href="https://github.com/Ash-tensor/simple-gpt-page">https://github.com/Ash-tensor/simple-gpt-page</a> 에서 확인할 수 있다.</p>

<p>그럼 안녕!!</p>


      <hr>
      <div class="row mb-5 mt-5">
  <div class="col-md-6 d-flex align-items-end ">
    <span>Thanks. <i>mind sharing?</i></span>
  </div>

  <!-- Right Column with Social Media Icons (on the right for larger screens, on bottom for smaller screens) -->
  <div class="col-md-6 order-md-2 order-1 text-md-right text-center mt-3 mt-md-0">
    <div>

      <a
          href="https://www.linkedin.com/sharing/share-offsite?url=https://ash-tensor.github.io/web/java/2024/10/24/spring-gpt-frontend.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2"
       >
        <span class="fa-stack fa-lg" style="color: #0077b5;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="https://twitter.com/intent/tweet?text=[WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2&url=https://ash-tensor.github.io/web/java/2024/10/24/spring-gpt-frontend.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #1DA1F2;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="http://www.reddit.com/submit?url=https://ash-tensor.github.io/web/java/2024/10/24/spring-gpt-frontend.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #FF4500;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-reddit fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </div>
  </div>
</div>

<hr/>

      <div class="clearfix" >

<!-- 수정중 -->
<!-- 가장 첫번쨰 카테고리의 최근 글 불러오는 글 기능 추가  -->
<!-- <ul class="posts-list"> -->

<ul class="mb-5 ">
  
  <p>
    <a style= "font-size: 20px; font-weight: bold; font-family: 'Noto Sans KR', sans-serif;" href= "http://localhost:4000/category/WEB.html">
      WEB 카테고리의 다른 글
    </a>
  </p>
  
  
  
    
      <li>
        <h3>
          <a href="/web/java/2025/03/29/backend-interview-question.html" style= "font-size: 17px;">
            [WEB][JAVA] 개발자 취업 후기
          </a>
          <small style= "font-size: 14px;">29 Mar 2025</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/review/2025/03/29/cursor-ai-longterm-review.html" style= "font-size: 17px;">
            [WEB][REVIEW] 커서 IDE 롱텀 리뷰- AI 에이전트라고 할 만 한가?
          </a>
          <small style= "font-size: 14px;">29 Mar 2025</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/12/28/jpa-inheritance.html" style= "font-size: 17px;">
            [WEB][JAVA] JPA 상속 및 심화
          </a>
          <small style= "font-size: 14px;">28 Dec 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/%EB%A6%AC%EB%B7%B0/2024/12/11/ecount-interview.html" style= "font-size: 17px;">
            [후기] 이카운트 코딩 테스트 및 인터뷰 리뷰
          </a>
          <small style= "font-size: 14px;">11 Dec 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/%EB%A6%AC%EB%B7%B0/2024/11/02/cursor-ai-review.html" style= "font-size: 17px;">
            [후기] 웹 개발자의 Cursor AI 사용기
          </a>
          <small style= "font-size: 14px;">02 Nov 2024</small>
        </h3>
      </li>
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>


<!-- 수정중 -->
<!-- 가장 첫번쨰 카테고리의 최근 글 불러오는 글 기능 추가  -->


<!-- 코멘트 란을 추가하는 코드 -->


  <div id="disqus_thread"></div>
  <script>
      /**
      *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
      *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
      /*
      var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
      */
      (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://tensorstudio.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


<!-- 코멘트 란을 추가하는 코드 -->

        
        <a class="btn btn-primary float-left" href="/web/react/2024/10/15/openai-realtime.html" data-toggle="tooltip" data-placement="top" title="[WEB][react] Chat-gpt realtime api 구현 및 설명">&larr; Previous<span class="d-none d-md-inline">
            Post</span></a>
        
        
        <a class="btn btn-primary float-right" href="/web/%EB%A6%AC%EB%B7%B0/2024/11/02/cursor-ai-review.html" data-toggle="tooltip" data-placement="top" title="[후기] 웹 개발자의 Cursor AI 사용기">Next<span class="d-none d-md-inline">
            Post</span> &rarr;</a>
        

      </div>

    </div>
  </div>
</div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:tensor17s@gmail.com" class="text-gray">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          
          
        </ul>

        <p class="copyright text-muted">
          Build with: 
          <a 
            href="https://github.com/StartBootstrap/startbootstrap-clean-blog-jekyll"
            class="text-gray"
            target="_blank">startbootstrap-clean-blog-jekyll
          </a>
        </p>
        <p class="copyright text-center text-gray">
            TENSOR STUDIO
        </p>

      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  

</body>

</html>
