<!DOCTYPE html>

<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>
    [WEB][react] Chat-gpt realtime api 구현 및 설명 - Tensor Studio
    
  </title>

  <meta name="description" content="[WEB][react] Chat-gpt realtime api 구현 및 설명">
  <meta property="og:description" content="[WEB][react] Chat-gpt realtime api 구현 및 설명">
  <meta property="og:type" content="website">
  <meta property="og:title" content="[WEB][react] Chat-gpt realtime api 구현 및 설명">
  <meta property="og:url" content="https://ash-tensor.github.io/web/react/2024/10/15/openai-realtime.html">

  
    <meta property="og:image" content="https://ash-tensor.github.io/img/port.jpg"/>
  

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6058208689389341"
          crossorigin="anonymous"></script>

  <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

  <!-- <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script> -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" integrity="sha384-DyZ88mC6Up2uqS4h/KRgHuoeGwBcD4Ng9SiP4dIRy0EXTlnuz47vAwmeGwVChigm" crossorigin="anonymous"/>

<!--  goun doun font // font-family: 'Noto Serif KR', serif;-->
<!--  <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR&display=swap" rel="stylesheet">-->


  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/web/react/2024/10/15/openai-realtime.html">
  <link rel="alternate" type="application/rss+xml" title="Tensor Studio" href="/feed.xml">

<!--  favicon-->
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <style>
    #sidebar {
      display: none;
    }
    @media (min-width: 1000px) {
      #sidebar {
        display: block;
      }
      
    }
  </style>
  
</head>


<body>

  <!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="/">Tensor Studio</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
      Menu
      <i class="fa fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/posts">Posts</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/categol">Categories</a>
        </li>
      </ul>
    </div>
  </div>
</nav>


  <!-- Page Header -->


<header class="masthead" style="background-image: url('/img/port.jpg')">

  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <div class="post-heading">
          <h1>[WEB][react] Chat-gpt realtime api 구현 및 설명</h1>
          
          <h2 class="subheading">VAD(Voice Activity Detection)를 이용한 실시간 음성 감지 서비스 구현</h2>
          
          <span class="meta">Posted by
            <a href="#">ash tensor</a>
            on October 15, 2024 &middot; <span class="reading-time" title="Estimated read time">
  
   11 mins  read </span>

          </span>
<!-- 카테고리를 추가하는 코드 -->
            <a>
              카테고리
            <a>
          <div style="font-family: 'Noto Sans KR', sans-serif;">
            
              <a href="http://localhost:4000/category/WEB.html" style="color: white;">📁WEB</a>
            
              <a href="http://localhost:4000/category/REACT.html" style="color: white;">📁REACT</a>
            
          </div>
<!-- 카테고리를 추가하는 코드 -->
        </div>
      </div>
    </div>
  </div>
</header>
<div class="container" style="display: flex">
  <div class="row">
<!-- sidebar를 추가하는 코드 -->
    <sidebar id="sidebar" 
            style="width: 260px; 
            border-right: gray 1px solid; 
            padding-left: 0; 
            padding-right: 20px;"
            >
    <ul>
        <p style="font-weight: bold; border-top: black 1px solid; border-bottom: black 1px solid; text-align: center; margin-top: 2px; padding: 2px; padding-top: 4px">
TENSOR STUDIO
        </p>
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/자격증.html">
                    자격증
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/08/20/bigdata-processing-engineer.html" style= "color: black; font-size: 12px;">
                            [자격증][실기] 빅데이터 분석기사 2024년 1회(8회)실기 합격 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">20 Aug 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/08/06/engineer-information-processor.html" style= "color: black; font-size: 12px;">
                            [자격증][실기] 정보처리기사 2024년 1회 실기 합격 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">06 Aug 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%9E%90%EA%B2%A9%EC%A6%9D/2024/05/03/bigdata-processor-engineer.html" style= "color: black; font-size: 12px;">
                            [자격증][필기] 빅데이터 분석기사 8회 필기 분석 및 후기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">03 May 2024</small>
                    </li>
                    
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/깃허브.html">
                    깃허브
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2024/02/08/jekyll-blog-theme-5-sidebar.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그]지킬 블로그 카테고리 / SIDEBAR 기능 추가(clean blog theme)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">08 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2024/01/17/bottom-category-build.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그] 동일 카테고리의 최근 글 기능 개발(clean blog theme)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">17 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EA%B9%83%ED%97%88%EB%B8%8C/2023/12/15/jekyll-blog-theme-4.html" style= "color: black; font-size: 12px;">
                            [깃허브 블로그]지킬 블로그 카테고리 / NAVBAR 기능 추가(clean blog theme) - 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Dec 2023</small>
                    </li>
                    
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/ML.html">
                    ML
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ml/2024/03/19/personal-information.html" style= "color: black; font-size: 12px;">
                            [데이터]개인정보 처리 위탁과 제 3자 제공의 차이
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">19 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ml/ai%EA%B7%B8%EB%A6%BC/2023/12/28/stable-diffusion.html" style= "color: black; font-size: 12px;">
                            [AI 그림]프롬프트의 한계점 - 올바른 프롬프트 작성하기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2023</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ml/2023/12/19/esports-ml-1.html" style= "color: black; font-size: 12px;">
                            [데이터 분석]조합에 따른 승률은 얼마나 차이가 날까?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">19 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/AI그림.html">
                    AI그림
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ml/ai%EA%B7%B8%EB%A6%BC/2023/12/28/stable-diffusion.html" style= "color: black; font-size: 12px;">
                            [AI 그림]프롬프트의 한계점 - 올바른 프롬프트 작성하기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/안드로이드.html">
                    안드로이드
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C/2023/12/29/bottomNavigationView.html" style= "color: black; font-size: 12px;">
                            [Android Studio]Bottom Navigation Bar 구현 - OnItemSelectedListener 이용
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Dec 2023</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/CS.html">
                    CS
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/cs/2024/01/02/binary.html" style= "color: black; font-size: 12px;">
                            [CS] 2의 보수
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/JAVA.html">
                    JAVA
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">24 Oct 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/09/30/spring-gpt-backend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Sep 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/08/26/spring-n-plus-1-problem.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링 N + 1 문제
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">26 Aug 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/WEB.html">
                    WEB
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/%EB%A6%AC%EB%B7%B0/2024/11/02/cursor-ai-review.html" style= "color: black; font-size: 12px;">
                            [후기] 웹 개발자의 Cursor AI 사용기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 Nov 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "color: black; font-size: 12px;">
                            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">24 Oct 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/web/react/2024/10/15/openai-realtime.html" style= "color: black; font-size: 12px;">
                            [WEB][react] Chat-gpt realtime api 구현 및 설명
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Oct 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/PS.html">
                    PS
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/05/02/boj7562.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 7562번 :: 나이트의 이동 :: 실버 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 May 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/03/28/boj12100.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 12100번 :: 2048(Easy) :: 골드 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/DP.html">
                    DP
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ps/dp/%ED%8C%8C%EC%9D%B4%EC%8D%AC/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/java/2024/01/16/targetNumber.html" style= "color: black; font-size: 12px;">
                            [프로그래머스][PS] 타겟 넘버 :: LEVEL 2 (DP 풀이)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">16 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/파이썬.html">
                    파이썬
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/02/01/boj1931.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1931번 :: 회의실 배정 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">01 Feb 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/01/30/boj2178.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 2178번 :: 미로 탐색 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Jan 2024</small>
                    </li>
                    
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/프로그래머스.html">
                    프로그래머스
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/ps/dp/%ED%8C%8C%EC%9D%B4%EC%8D%AC/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/java/2024/01/16/targetNumber.html" style= "color: black; font-size: 12px;">
                            [프로그래머스][PS] 타겟 넘버 :: LEVEL 2 (DP 풀이)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">16 Jan 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/백준.html">
                    백준
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/05/02/boj7562.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 7562번 :: 나이트의 이동 :: 실버 1
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 May 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/ps/%EB%B0%B1%EC%A4%80/2024/03/28/boj12100.html" style= "color: black; font-size: 12px;">
                            [백준][JAVA] 백준 12100번 :: 2048(Easy) :: 골드 2
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">28 Mar 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/java/%ED%8C%8C%EC%9D%B4%EC%8D%AC/2024/02/27/boj1743.html" style= "color: black; font-size: 12px;">
                            [백준] 백준 1743번 :: 음식물 피하기 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">27 Feb 2024</small>
                    </li>
                    
                
            
                
            
                
            
                
            
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/자료구조.html">
                    자료구조
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%B0%B1%EC%A4%80/ps/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%ED%8C%8C%EC%9D%B4%EC%8D%AC/java/2024/01/30/boj2178.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 2178번 :: 미로 탐색 :: 실버 1 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">30 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/java/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EB%B0%B1%EC%A4%80/ps/2024/01/23/boj1935.html" style= "color: black; font-size: 12px;">
                            [백준][자료구조] 백준 1935번 :: 후위 표기식 2 :: 실버 3 
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">23 Jan 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/ps/%EB%B0%B1%EC%A4%80/java/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/2024/01/17/coworkerInCompany.html" style= "color: black; font-size: 12px;">
                            [백준][PS] 회사에 있는 사람 :: 실버 5(자료구조)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">17 Jan 2024</small>
                    </li>
                    
                
            
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/linux.html">
                    linux
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/linux/2024/02/01/utm.html" style= "color: black; font-size: 12px;">
                            [리눅스] 애플 실리콘 맥에 리눅스 설치하는 법(UTM)
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">01 Feb 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/DB.html">
                    DB
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/db/2024/02/29/materialized-view.html" style= "color: black; font-size: 12px;">
                            [DB] 구체화된 뷰는 테이블과 어떻게 다를까?
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">29 Feb 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/리뷰.html">
                    리뷰
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/%EB%A6%AC%EB%B7%B0/2024/11/02/cursor-ai-review.html" style= "color: black; font-size: 12px;">
                            [후기] 웹 개발자의 Cursor AI 사용기
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">02 Nov 2024</small>
                    </li>
                    
                
            
                
                    <li style="margin: 0px">
                        <a href="/%EB%A6%AC%EB%B7%B0/2024/03/06/sd-card.html" style= "color: black; font-size: 12px;">
                            [후기] 알리익스프레스 SD카드 배송 후기 / 용량 뻥튀기 확인하는법
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">06 Mar 2024</small>
                    </li>
                    
                
            
        
            <p style="margin-bottom: 0; margin-top: 10px">
                <a style= "margin-bottom: 0px; font-size: 15px; color: black; font-weight: bold;" href= "http://localhost:4000/category/REACT.html">
                    REACT
                </a>
                    <a> 🔽
                    </a>
            </p>
            
            
            
                
                    <li style="margin: 0px">
                        <a href="/web/react/2024/10/15/openai-realtime.html" style= "color: black; font-size: 12px;">
                            [WEB][react] Chat-gpt realtime api 구현 및 설명
                        </a>
                        <small style= "margin-bottom: 0px; font-size: 10px;">15 Oct 2024</small>
                    </li>
                    
                
            
        
    </ul>
</sidebar>

    <div class="col-lg-8 col-md-10 mx-auto">
<!-- 본문 카테고리를 추가하는 코드 -->
            <a style="font-family: 'Noto Sans KR', sans-serif;">
              카테고리 링크
            <a>

          <div style="font-family: 'Noto Sans KR', sans-serif;">
            
              <a href="http://localhost:4000/category/WEB.html" style="color: black;">📁 WEB</a>
            
              <a href="http://localhost:4000/category/REACT.html" style="color: black;">📁 REACT</a>
            
          </div>
          
<!-- 본문 카테고리를 추가하는 코드 -->

      <h2 id="webreact-chat-gpt-realtime-api-구현-및-설명">[WEB][react] Chat-gpt realtime api 구현 및 설명</h2>

<h3 id="1-서론">1. 서론</h3>

<p>한 몇달 쯤 전인가? OpenAI에서 GPT앱을 출시하면서 엄청 대단한 기능으로 화제가 된 적이 있다.
실시간으로 카메라를 통해서 풍경을 이해하고, 음성을 실시간으로 이해하고 어조및 어투가 정말 사람같으며 사람의 농담을 제대로 이해하는 등
한국 언론은 물론이고 전세계적으로도 엄청난 화제가 되었는데.</p>

<p><img src="/img/posts/react/realtime/1.png" width="80%" /></p>

<p>마지 영화의 HER에서 나오는 AI와 비슷한 느낌이 든다고 화제였었다. 그리고 스칼렛 요한슨 목소리이냐 아니냐로 논란이 있었는데,
Open AI는 해당 API를 공개하지 않고 있었다. 지금까지 OpenAI의 음성인식은 whisper라고 하는 음성인식 api였는데, 이는 실시간과는 거리가 멀고,
음성파일을 집어 넣으면 텍스트로 변환해 주거나 하는 기능이었다.</p>

<p>하지만 10월에 들어서 OpenAI에서 realtime API를 일반 개발자들도 사용할 수 있게 공개했는데, 해당 기능으로 실시간으로 마이크를 통해서 
음성을 인식하는 기능을 구현할 수 있게 되었다.</p>

<p>이를 한번 구현해 보았는데 한국어로 된 자료도 없고, 영어로 된 자료도 마찬가지로 적어서 어디서 오류가 나는지 찾는데 어려움이 있었다.
그래서 이번 포스트에서는 해당 기능을 간단하게 구현하고, 설명하고자 한다.</p>

<h3 id="2-구현-예제">2. 구현 예제</h3>

<p><img src="/img/posts/react/realtime/2.png" width="80%" /></p>

<p>자세한 API 문서는 <a href="https://platform.openai.com/docs/guides/realtime">OpenAI API</a>을 참고하면 된다. 
하지만 해당 문서만 가지고 실제 구현해 보기는 어려워서 Open-AI에서 제공한 예제를 참고해서 구현해 보았다.</p>

<p><img src="/img/posts/react/realtime/3.png" width="80%" /></p>

<p>내가 구현한 예제는 <a href="https://github.com/Ash-tensor/realtime-api">VAD 예시</a>를 참고하면 된다. 
해당 예제는 Open AI에서 제공한 예제를 기반으로 하고 있는데, API를 이해하면서 VAD를 구현하는데 실제 필요하지 않은 기능들을 덜어내고 
VAD(Voice Activity Detection), 
즉 앞서 뉴스에서 봤던 것처럼 따로 음성을 올리거나, 아니면 말할때 호출어를 부르거나 버튼을 눌러서 구현하는 게 아니라, 
마이크를 통해서 실시간으로 음성을 인식하는 기능만을 구현해 놓은 예시이다.</p>

<p>Open ai 예제는 다양한 tool과 map 등, event를 다루는 기능들이 많아 한번에 이해하기 어려웠기 때문에 한번 구현해 보았다.</p>

<h3 id="3-설명">3. 설명</h3>

<h4 id="상태-변수">상태 변수</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">export</span> <span class="kd">function</span> <span class="nf">ConsolePage</span><span class="p">()</span> <span class="p">{</span>

    <span class="c1">// API 키 설정</span>
    <span class="kd">const</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">본인 API 키</span><span class="dl">"</span>

    <span class="c1">// Ref 초기화</span>
    <span class="kd">const</span> <span class="nx">wavRecorderRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">WavRecorder</span><span class="o">&gt;</span><span class="p">(</span>
        <span class="k">new</span> <span class="nc">WavRecorder</span><span class="p">({</span> <span class="na">sampleRate</span><span class="p">:</span> <span class="mi">24000</span> <span class="p">})</span>
    <span class="p">);</span>
    <span class="kd">const</span> <span class="nx">wavStreamPlayerRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">WavStreamPlayer</span><span class="o">&gt;</span><span class="p">(</span>
        <span class="k">new</span> <span class="nc">WavStreamPlayer</span><span class="p">({</span> <span class="na">sampleRate</span><span class="p">:</span> <span class="mi">24000</span> <span class="p">})</span>
    <span class="p">);</span>
    <span class="kd">const</span> <span class="nx">clientRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="o">&lt;</span><span class="nx">RealtimeClient</span><span class="o">&gt;</span><span class="p">(</span>
        <span class="k">new</span> <span class="nc">RealtimeClient</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="na">apiKey</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span>
                <span class="na">dangerouslyAllowAPIKeyInBrowser</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
    <span class="p">);</span>

    <span class="kd">const</span> <span class="p">[</span><span class="nx">realtimeEvents</span><span class="p">,</span> <span class="nx">setRealtimeEvents</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">RealtimeEvent</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">([]);</span> <span class="c1">// vad만 구현하고자 하면 필요없음</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">expandedEvents</span><span class="p">,</span> <span class="nx">setExpandedEvents</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="p">{</span>  <span class="c1">// vad만 구현하고자 하면 필요없음</span>
        <span class="p">[</span><span class="na">key</span><span class="p">:</span> <span class="kr">string</span><span class="p">]:</span> <span class="nx">boolean</span><span class="p">;</span>
    <span class="p">}</span><span class="o">&gt;</span><span class="p">({});</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">items</span><span class="p">,</span> <span class="nx">setItems</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="o">&lt;</span><span class="nx">ItemType</span><span class="p">[]</span><span class="o">&gt;</span><span class="p">([]);</span>
    
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">items</code>: 모든 대화 항목을 저장하는 배열.</li>
  <li><code class="language-plaintext highlighter-rouge">realtimeEvents</code>: 확장 가능한 이벤트 로그를 저장하는 배열.</li>
  <li><code class="language-plaintext highlighter-rouge">expandedEvents</code>: 각 이벤트의 확장 상태를 저장하는 객체.</li>
</ul>

<p>단순히 vad만을 구현하고자 하면 realtimeEvents 및 expandedEvents는 필요 없다.
items에 존재하는 대화 항목을 wavStreamPlayer 를 이용해서 음성으로 재생하는 구조이다.</p>

<h4 id="대화-연결-함수">대화 연결 함수</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cm">/**
   * 대화 연결 함수
   */</span>
  <span class="kd">const</span> <span class="nx">connectConversation</span> <span class="o">=</span> <span class="nf">useCallback</span><span class="p">(</span><span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">clientRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">wavRecorder</span> <span class="o">=</span> <span class="nx">wavRecorderRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">wavStreamPlayer</span> <span class="o">=</span> <span class="nx">wavStreamPlayerRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

    <span class="nf">setItems</span><span class="p">(</span><span class="nx">client</span><span class="p">.</span><span class="nx">conversation</span><span class="p">.</span><span class="nf">getItems</span><span class="p">());</span>

    <span class="k">if </span><span class="p">(</span><span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">recording</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">await</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">pause</span><span class="p">();</span> <span class="c1">// 또는 await wavRecorder.stop();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">connectConversation</span><span class="dl">'</span><span class="p">,</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="k">await</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">begin</span><span class="p">();</span>

    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">connectConversation : wavRecorder begin</span><span class="dl">'</span><span class="p">,</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">());</span>

    <span class="k">await</span> <span class="nx">wavStreamPlayer</span><span class="p">.</span><span class="nf">connect</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nf">connect</span><span class="p">();</span>

    <span class="nx">client</span><span class="p">.</span><span class="nf">updateSession</span><span class="p">({</span>
      <span class="na">turn_detection</span><span class="p">:</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">server_vad</span><span class="dl">'</span> <span class="p">},</span> <span class="c1">// VAD 활성화</span>
      <span class="na">input_audio_transcription</span><span class="p">:</span> <span class="p">{</span> <span class="na">model</span><span class="p">:</span> <span class="dl">'</span><span class="s1">whisper-1</span><span class="dl">'</span> <span class="p">},</span>
    <span class="p">});</span>

    <span class="c1">// 기본 인사 메시지 전송</span>
    <span class="nx">client</span><span class="p">.</span><span class="nf">sendUserMessageContent</span><span class="p">([</span>
      <span class="p">{</span>
        <span class="na">type</span><span class="p">:</span> <span class="s2">`input_text`</span><span class="p">,</span>
        <span class="na">text</span><span class="p">:</span> <span class="s2">`Hello!`</span><span class="p">,</span>
      <span class="p">},</span>
    <span class="p">]);</span>

    <span class="k">if </span><span class="p">(</span><span class="nx">client</span><span class="p">.</span><span class="nf">getTurnDetectionType</span><span class="p">()</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">server_vad</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span> <span class="dl">'</span><span class="s1">wavRecorder.getStatus()</span><span class="dl">'</span> <span class="p">,</span><span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">());</span>
      <span class="k">await</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">record</span><span class="p">((</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">client</span><span class="p">.</span><span class="nf">appendInputAudio</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">mono</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[]);</span>

</code></pre></div></div>

<p>여기서 중요한 게 client.updateSession 함수인데, 여기서 대부분의 세션 설정이 이루어진다.
중요한 옵션을 나열하자면</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">modalities</code>: 텍스트로 설정할 건지 음성으로 설정할 건지. [“audio”, “text”] 중 하나를 선택한다.</li>
  <li><code class="language-plaintext highlighter-rouge">tools</code>: chat completion에도 있는 함수 호출(미리 gpt가 해야할 특정 행동을 정의해놓고 그 행동을 호출하면 gpt가 해당 행동을 수행하게 하는 것)</li>
  <li><code class="language-plaintext highlighter-rouge">turn_detection</code>: VAD 활성화 또는 비활성화</li>
  <li><code class="language-plaintext highlighter-rouge">instruction</code>: <strong>시스템 설정 메시지</strong></li>
</ul>

<p>이 중에서 <code class="language-plaintext highlighter-rouge">instruction</code>은 꽤 중요한데, 이는 시스템 설정 메시지를 의미한다. 예전 gpt chat completion 에서 시스템 메시지를 보내는 것과 같은 역할을 한다.</p>

<h5 id="instructionts">instruction.ts</h5>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">instructions</span> <span class="o">=</span> <span class="s2">`System settings:
Tool use: enabled.

Instructions:
- You are an artificial intelligence agent responsible for helping test realtime voice capabilities
- Please make sure to respond with a helpful voice via audio
- Be kind, helpful, and curteous
- It is okay to ask the user questions
- Use tools and functions you have available liberally, it is part of the training apparatus
- Be open to exploration and conversation
- Remember: this is just for fun and testing!

Personality:
- Be upbeat and genuine
- Try speaking quickly as if excited
  `</span><span class="p">;</span>

</code></pre></div></div>

<p>이 메시지는 open ai가 설정했던 시스템 메시지로</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="nx">client</span><span class="p">.</span><span class="nf">updateSession</span><span class="p">({</span> <span class="na">instructions</span><span class="p">:</span> <span class="nx">instructions</span> <span class="p">});</span>

</code></pre></div></div>
<p>이런 식으로 open ai는 instruction을 설정했었다. 물론 그냥 string으로 박아도 괜찮다.</p>

<h4 id="useeffect">useEffect</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">connectConversation</span><span class="p">();</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="nf">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">wavStreamPlayer</span> <span class="o">=</span> <span class="nx">wavStreamPlayerRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">clientRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
   
    <span class="nx">client</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">conversation.updated</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">({</span> <span class="nx">item</span><span class="p">,</span> <span class="nx">delta</span> <span class="p">}:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">items</span> <span class="o">=</span> <span class="nx">client</span><span class="p">.</span><span class="nx">conversation</span><span class="p">.</span><span class="nf">getItems</span><span class="p">();</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">delta</span><span class="p">?.</span><span class="nx">audio</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">wavStreamPlayer</span><span class="p">.</span><span class="nf">add16BitPCM</span><span class="p">(</span><span class="nx">delta</span><span class="p">.</span><span class="nx">audio</span><span class="p">,</span> <span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">status</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">completed</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nx">item</span><span class="p">.</span><span class="nx">formatted</span><span class="p">.</span><span class="nx">audio</span><span class="p">?.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">wavFile</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">WavRecorder</span><span class="p">.</span><span class="nf">decode</span><span class="p">(</span>
          <span class="nx">item</span><span class="p">.</span><span class="nx">formatted</span><span class="p">.</span><span class="nx">audio</span><span class="p">,</span>
          <span class="mi">24000</span><span class="p">,</span>
          <span class="mi">24000</span>
        <span class="p">);</span>
        <span class="nx">item</span><span class="p">.</span><span class="nx">formatted</span><span class="p">.</span><span class="nx">file</span> <span class="o">=</span> <span class="nx">wavFile</span><span class="p">;</span>
      <span class="p">}</span>
      <span class="nf">setItems</span><span class="p">(</span><span class="nx">items</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nf">setItems</span><span class="p">(</span><span class="nx">client</span><span class="p">.</span><span class="nx">conversation</span><span class="p">.</span><span class="nf">getItems</span><span class="p">());</span>

    <span class="k">return </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">// cleanup; resets to defaults</span>
      <span class="nx">client</span><span class="p">.</span><span class="nf">reset</span><span class="p">();</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[]);</span>

</code></pre></div></div>

<p>useEffect에서 connectConversation을 호출하고, conversation.updated 이벤트를 등록한다.
즉 realtime api는 conversation.updated 이벤트를 통해서 텍스트 데이터를 받아오고, 이를 wavStreamPlayer를 통해서 음성으로 재생하는 구조이다.</p>

<h4 id="세션-종료-함수">세션 종료 함수</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="kd">const</span> <span class="nx">disconnectConversation</span> <span class="o">=</span> <span class="nf">useCallback</span><span class="p">(</span><span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">clientRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">wavRecorder</span> <span class="o">=</span> <span class="nx">wavRecorderRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>
    <span class="kd">const</span> <span class="nx">wavStreamPlayer</span> <span class="o">=</span> <span class="nx">wavStreamPlayerRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

    <span class="nx">client</span><span class="p">.</span><span class="nf">disconnect</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">end</span><span class="p">();</span>
    <span class="k">await</span> <span class="nx">wavStreamPlayer</span><span class="p">.</span><span class="nf">interrupt</span><span class="p">();</span>
  <span class="p">},</span> <span class="p">[]);</span>

</code></pre></div></div>

<h3 id="4-트러블-슈팅">4. 트러블 슈팅</h3>

<p>일단 위의 코드를 보면서 느꼈겠지만</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// 이 부분이다.</span>
<span class="k">if </span><span class="p">(</span><span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">()</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">recording</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">pause</span><span class="p">();</span> <span class="c1">// 또는 await wavRecorder.stop();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">connectConversation</span><span class="dl">'</span><span class="p">,</span> <span class="nx">wavRecorder</span><span class="p">.</span><span class="nf">getStatus</span><span class="p">());</span>
<span class="p">}</span>

</code></pre></div></div>
<p>위 부분은 트러블 슈팅을 하던 때의 흔적이다. 
wavRecorder.getStatus()가 recording이 아닌데 자꾸 이런 오류가 발생했다.</p>

<blockquote>
  <p>wav_recorder.js:438 Uncaught (in promise) Error: Already recording: please call .pause() first 
at WavRecorder.record (wav_recorder.js:438:1)
at ConsolePage.tsx:75:1</p>
</blockquote>

<p>이 오류는 strict mode에서 발생하는 오류로, strict mode를 해제하면 오류가 발생하지 않는다.
두 번 호출하기 때문에 상태 관리에서 오류가 있었던 것 같다.</p>

<p>별 것 아닌 오류였지만 은근 떠올리는데 몇시간 걸렸기도 하고, 인터넷에서 검색해도 이런 오류가 나는 사람도 없었기 때문에
이런 오류가 나면 strict mode를 한번 해제하고 해보길 바란다.</p>

<h3 id="5-결론">5. 결론</h3>

<p>이번 포스트에서는 OpenAI에서 제공하는 실시간 API를 이용해서 실시간으로 음성을 인식하는 기능을 구현해 보았다.
또한 더 구체적인 예제는 <a href="https://github.com/openai/openai-realtime-console">Open AI 예제</a>를 참고하면 된다.</p>

<p><strong>근데 realtime api 엄청 비싸다!!!! 농담 안하고 안녕? 반가워, 너 내 한국어 이해해? 이 정도 대화만 하는데 1.3달러 정도 과금한다ㅋㅋㅋ</strong>
솔직히 너무 비싸서 현업에서는 못쓰지 않을까 생각한다.</p>


      <hr>
      <div class="row mb-5 mt-5">
  <div class="col-md-6 d-flex align-items-end ">
    <span>Thanks. <i>mind sharing?</i></span>
  </div>

  <!-- Right Column with Social Media Icons (on the right for larger screens, on bottom for smaller screens) -->
  <div class="col-md-6 order-md-2 order-1 text-md-right text-center mt-3 mt-md-0">
    <div>

      <a
          href="https://www.linkedin.com/sharing/share-offsite?url=https://ash-tensor.github.io/web/react/2024/10/15/openai-realtime.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2"
       >
        <span class="fa-stack fa-lg" style="color: #0077b5;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="https://twitter.com/intent/tweet?text=[WEB][react] Chat-gpt realtime api 구현 및 설명&url=https://ash-tensor.github.io/web/react/2024/10/15/openai-realtime.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #1DA1F2;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
      </a>

      <a
          href="http://www.reddit.com/submit?url=https://ash-tensor.github.io/web/react/2024/10/15/openai-realtime.html"
          onclick="window.open(this.href, 'pop-up', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"
          class="d-inline-block mr-2">
        <span class="fa-stack fa-lg" style="color: #FF4500;">
          <i class="fas fa-square fa-stack-2x"></i>
          <i class="fab fa-reddit fa-stack-1x fa-inverse"></i>
        </span>
      </a>
    </div>
  </div>
</div>

<hr/>

      <div class="clearfix" >

<!-- 수정중 -->
<!-- 가장 첫번쨰 카테고리의 최근 글 불러오는 글 기능 추가  -->
<!-- <ul class="posts-list"> -->

<ul class="mb-5 ">
  
  <p>
    <a style= "font-size: 20px; font-weight: bold; font-family: 'Noto Sans KR', sans-serif;" href= "http://localhost:4000/category/WEB.html">
      WEB 카테고리의 다른 글
    </a>
  </p>
  
  
  
    
      <li>
        <h3>
          <a href="/web/%EB%A6%AC%EB%B7%B0/2024/11/02/cursor-ai-review.html" style= "font-size: 17px;">
            [후기] 웹 개발자의 Cursor AI 사용기
          </a>
          <small style= "font-size: 14px;">02 Nov 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/10/24/spring-gpt-frontend.html" style= "font-size: 17px;">
            [WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2
          </a>
          <small style= "font-size: 14px;">24 Oct 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/react/2024/10/15/openai-realtime.html" style= "font-size: 17px;">
            [WEB][react] Chat-gpt realtime api 구현 및 설명
          </a>
          <small style= "font-size: 14px;">15 Oct 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/09/30/spring-gpt-backend.html" style= "font-size: 17px;">
            [WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1
          </a>
          <small style= "font-size: 14px;">30 Sep 2024</small>
        </h3>
      </li>
      
    
  
    
      <li>
        <h3>
          <a href="/web/java/2024/08/26/spring-n-plus-1-problem.html" style= "font-size: 17px;">
            [WEB][Spring] 스프링 N + 1 문제
          </a>
          <small style= "font-size: 14px;">26 Aug 2024</small>
        </h3>
      </li>
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
</ul>


<!-- 수정중 -->
<!-- 가장 첫번쨰 카테고리의 최근 글 불러오는 글 기능 추가  -->


<!-- 코멘트 란을 추가하는 코드 -->


  <div id="disqus_thread"></div>
  <script>
      /**
      *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
      *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
      /*
      var disqus_config = function () {
      this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };
      */
      (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://tensorstudio.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


<!-- 코멘트 란을 추가하는 코드 -->

        
        <a class="btn btn-primary float-left" href="/web/java/2024/09/30/spring-gpt-backend.html" data-toggle="tooltip" data-placement="top" title="[WEB][Spring] 스프링으로 Chat-GPT 기능 구현하기 - 1">&larr; Previous<span class="d-none d-md-inline">
            Post</span></a>
        
        
        <a class="btn btn-primary float-right" href="/web/java/2024/10/24/spring-gpt-frontend.html" data-toggle="tooltip" data-placement="top" title="[WEB][Spring] 스프링으로 Chat-GPT 페이지 구현하기 - 2">Next<span class="d-none d-md-inline">
            Post</span> &rarr;</a>
        

      </div>

    </div>
  </div>
</div>


  <!-- Footer -->

<hr>

<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        <ul class="list-inline text-center">
          
          <li class="list-inline-item">
            <a href="mailto:tensor17s@gmail.com" class="text-gray">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="far fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          
          
          
          
          
        </ul>

        <p class="copyright text-muted">
          Build with: 
          <a 
            href="https://github.com/StartBootstrap/startbootstrap-clean-blog-jekyll"
            class="text-gray"
            target="_blank">startbootstrap-clean-blog-jekyll
          </a>
        </p>
        <p class="copyright text-center text-gray">
            TENSOR STUDIO
        </p>

      </div>
    </div>
  </div>
</footer>


  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/assets/vendor/blog/js/scripts.js"></script>

<script src="/assets/scripts.js"></script>




  

</body>

</html>
